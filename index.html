<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Educational Resources | Student Learning Portal</title>
<meta name="description" content="A comprehensive learning platform" />
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700;800&display=swap" as="style" onload="this.rel='stylesheet'">

<style>
:root{--bg-1:#0a0e1a;--bg-2:#05070d;--bg-3:#020308;--accent:#00f2ff;--accent-2:#9befff;--glass:rgba(10,20,30,0.45);--glass-strong:rgba(6,10,14,0.7);--nav-width:280px;--nav-collapsed:70px;}
*{box-sizing:border-box;margin:0;padding:0}
html,body{width:100%;min-height:100%;font-family:"Space Grotesk",system-ui,sans-serif;-webkit-font-smoothing:antialiased;}
body{min-height:100vh;overflow-y:auto;}
body:not(.unlocked){background:#f5f5f5!important;color:#333!important;}
body.unlocked{background:var(--bg-3);color:#e6faff;display:flex;justify-content:center;align-items:flex-start;}
a{color:inherit;text-decoration:none}
button{font-family:inherit;cursor:pointer!important;}

/* Custom cursor */
body.custom-cursor-enabled,body.custom-cursor-enabled *{cursor:none!important;}
body.custom-cursor-enabled input,body.custom-cursor-enabled textarea,body.custom-cursor-enabled select{cursor:text!important;}
.custom-cursor{position:fixed;left:50%;top:50%;width:36px;height:36px;pointer-events:none;z-index:100000;transform:translate(-50%,-50%);mix-blend-mode:screen;display:none;opacity:0;}
body.unlocked.custom-cursor-enabled .custom-cursor{display:block;}
.custom-cursor .dot{width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 10px rgba(0,242,255,0.9),0 0 24px rgba(0,242,255,0.18);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}
.custom-cursor .ring{width:28px;height:28px;border-radius:50%;border:1px solid rgba(0,242,255,0.6);box-shadow:0 0 8px rgba(0,242,255,0.25);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);transition:transform 180ms,opacity 180ms;opacity:0.95;}
.custom-cursor.cursor-click .ring{transform:translate(-50%,-50%) scale(0.78);opacity:0.6;}
.custom-cursor.cursor-hover .ring{transform:translate(-50%,-50%) scale(1.45);opacity:0.98;}

#peak-root{position:relative;width:100%;min-height:100vh;display:flex;align-items:flex-start;}
#peak-starfield{position:fixed;inset:0;z-index:0;background:radial-gradient(circle at top,var(--bg-1) 0%,var(--bg-2) 55%,var(--bg-3) 100%);display:block;}
.peak-scanlines{position:fixed;inset:0;pointer-events:none;z-index:1;background:linear-gradient(rgba(18,16,16,0) 50%,rgba(0,242,255,0.04) 50%);background-size:100% 4px;mix-blend-mode:screen;opacity:0.7;}

.shell{margin:18px auto;width:calc(100% - 36px);max-width:1600px;position:relative;z-index:2;}
.app-inner{display:flex;gap:18px;align-items:flex-start;}

/* SIDEBAR - OS Style */
#sideNav{position:sticky;top:18px;z-index:130;background:linear-gradient(180deg,rgba(2,3,8,0.85),rgba(2,3,8,0.7));border:1px solid rgba(0,242,255,0.15);box-shadow:0 20px 60px rgba(0,0,0,0.5),0 0 40px rgba(0,242,255,0.1);border-radius:20px;padding:20px;width:var(--nav-width);min-height:500px;transition:width 320ms cubic-bezier(.2,.9,.2,1);display:flex;flex-direction:column;gap:16px;backdrop-filter:blur(20px);}
#sideNav.collapsed{width:var(--nav-collapsed);padding:12px;}
#sideNavHeader{display:flex;align-items:center;gap:12px;justify-content:space-between;padding:8px;background:rgba(0,242,255,0.05);border-radius:12px;border:1px solid rgba(0,242,255,0.1);}
#sideNav.collapsed #sideNavHeader{flex-direction:column;padding:6px;}
.peak-logo-svg{flex-shrink:0;fill:#00f2ff;filter:drop-shadow(0 0 10px rgba(0,242,255,0.5));}
.nav-title{font-weight:900;letter-spacing:0.15em;color:#00f2ff;font-size:18px;text-shadow:0 0 10px rgba(0,242,255,0.5);}
#sideNav.collapsed .nav-title{display:none;}
#navToggle{width:44px;height:44px;border-radius:50%;border:2px solid rgba(0,242,255,0.4);background:rgba(0,242,255,0.1);display:inline-flex;align-items:center;justify-content:center;cursor:pointer!important;transition:all 300ms;font-size:20px;color:#00f2ff;}
#navToggle:hover{transform:scale(1.15) rotate(180deg);background:rgba(0,242,255,0.2);box-shadow:0 0 25px rgba(0,242,255,0.6);}

.nav-items{display:flex;flex-direction:column;gap:10px;margin-top:10px;}
#sideNav.collapsed .nav-items{align-items:center;}
.nav-item{display:flex;align-items:center;gap:12px;padding:14px 16px;border-radius:14px;cursor:pointer!important;background:transparent;color:#9befff;border:1px solid rgba(0,242,255,0.08);font-weight:700;text-transform:uppercase;letter-spacing:0.08em;font-size:13px;transition:all .25s ease;}
.nav-item:hover{background:linear-gradient(135deg,rgba(0,242,255,0.12),rgba(0,242,255,0.06));transform:translateX(6px);border-color:rgba(0,242,255,0.25);box-shadow:0 4px 12px rgba(0,242,255,0.15);}
.nav-item.active{background:linear-gradient(135deg,rgba(0,242,255,0.2),rgba(0,242,255,0.1));border-color:rgba(0,242,255,0.4);box-shadow:0 0 20px rgba(0,242,255,0.3);color:#00f2ff;}
.nav-item svg{width:20px;height:20px;flex:0 0 20px;}
.nav-item span{flex:1;}
#sideNav.collapsed .nav-item span{display:none;}
#sideNav.collapsed .nav-item{padding:12px;justify-content:center;}

.app-content{flex:1;min-width:0;position:relative;padding-bottom:36px;}

/* Top Bar - OS Style */
.top-bar{position:sticky;top:18px;z-index:125;background:var(--glass-strong);border:1px solid rgba(0,242,255,0.15);border-radius:16px;padding:12px 20px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between;backdrop-filter:blur(20px);box-shadow:0 8px 32px rgba(0,0,0,0.3);}
.top-bar-left{display:flex;align-items:center;gap:16px;}
.top-bar-right{display:flex;align-items:center;gap:12px;}
.top-bar-btn{width:40px;height:40px;border-radius:10px;background:rgba(0,242,255,0.08);border:1px solid rgba(0,242,255,0.15);display:inline-flex;align-items:center;justify-content:center;color:var(--accent-2);cursor:pointer!important;transition:all .2s;font-size:18px;}
.top-bar-btn:hover{background:rgba(0,242,255,0.15);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,242,255,0.2);}
.current-time{font-size:14px;font-weight:700;color:#9befff;background:rgba(0,242,255,0.06);padding:8px 16px;border-radius:10px;border:1px solid rgba(0,242,255,0.1);}

/* Settings panel */
#settingsPanel{position:fixed;right:20px;top:80px;z-index:9999;width:400px;max-width:calc(100% - 40px);background:var(--glass-strong);border-radius:20px;padding:24px;border:1px solid rgba(0,242,255,0.25);box-shadow:0 20px 80px rgba(0,0,0,0.9),0 0 60px rgba(0,242,255,0.15);display:none;backdrop-filter:blur(20px);}
#settingsPanel.open{display:block;animation:slideInRight 0.3s ease;}
@keyframes slideInRight{from{transform:translateX(100px);opacity:0;}to{transform:translateX(0);opacity:1;}}
.settings-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid rgba(0,242,255,0.15);}
.settings-title{font-size:24px;font-weight:900;color:#00f2ff;text-shadow:0 0 10px rgba(0,242,255,0.5);}
.tabs{display:flex;gap:8px;margin-bottom:16px;}
.tab{padding:10px 16px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent-2);cursor:pointer!important;font-weight:700;transition:all .2s;}
.tab[aria-selected="true"]{background:rgba(0,242,255,0.15);border-color:rgba(0,242,255,0.3);color:#fff;}
.settings-body{max-height:500px;overflow:auto;}
.settings-row{display:flex;align-items:center;justify-content:space-between;padding:14px;border-radius:10px;background:rgba(0,242,255,0.03);margin-bottom:10px;}
.settings-label{color:#e6faff;font-weight:600;font-size:14px;}

/* Dashboard - OS Style */
.os-dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-top:20px;}
.os-widget{background:var(--glass);border-radius:20px;padding:24px;border:2px solid rgba(0,242,255,0.2);box-shadow:0 8px 32px rgba(0,0,0,0.3),inset 0 0 20px rgba(0,242,255,0.08);backdrop-filter:blur(14px);transition:all .3s ease;min-height:180px;display:flex;flex-direction:column;}
.os-widget:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 48px rgba(0,242,255,0.4),0 0 40px rgba(0,242,255,0.2);border-color:rgba(0,242,255,0.5);}
.widget-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;}
.widget-icon{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,rgba(0,242,255,0.2),rgba(0,242,255,0.1));display:flex;align-items:center;justify-content:center;font-size:24px;border:1px solid rgba(0,242,255,0.3);}
.widget-title{font-size:16px;font-weight:700;color:#9befff;text-transform:uppercase;letter-spacing:0.1em;}
.widget-value{font-size:clamp(32px,4vw,48px);font-weight:900;color:#fff;margin:8px 0;text-shadow:0 0 10px rgba(255,255,255,0.3);}
.widget-sub{font-size:14px;color:var(--accent-2);opacity:0.9;}

/* Hero Widget */
.hero-widget{grid-column:1/-1;min-height:320px;background:linear-gradient(135deg,rgba(0,242,255,0.15),rgba(0,242,255,0.05));position:relative;overflow:hidden;}
.hero-content{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;}
.hero-logo{width:120px;height:120px;margin-bottom:20px;}
.hero-title{font-size:clamp(48px,6vw,72px);letter-spacing:0.2em;text-transform:uppercase;color:#e6faff;text-shadow:0 0 30px rgba(0,242,255,0.9),0 0 60px rgba(0,242,255,0.6);animation:flicker 5s linear infinite;font-weight:900;}
@keyframes flicker{0%,19%,21%,23%,25%,54%,56%,100%{opacity:1;}20%,22%,55%{opacity:0.85;}}
.hero-subtitle{font-size:18px;color:var(--accent-2);margin-top:12px;font-weight:600;}

/* Sections */
.sections{position:relative;width:100%;min-height:60vh;display:block;padding-top:6px;}
.section{position:absolute;inset:0 auto auto 0;width:100%;opacity:0;transform:translateY(20px);pointer-events:none;transition:opacity 420ms,transform 420ms;z-index:2;}
.section.active{opacity:1;transform:translateY(0);pointer-events:auto;}

/* Proxy Hub */
.hub-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px;margin-top:20px;}
.proxy-card{background:var(--glass);border-radius:16px;padding:20px;border:1px solid rgba(0,242,255,0.15);transition:all .3s;min-height:200px;display:flex;flex-direction:column;}
.proxy-card:hover{transform:translateY(-4px);border-color:rgba(0,242,255,0.4);box-shadow:0 8px 24px rgba(0,242,255,0.2);}
.proxy-card.favorite{border-color:rgba(255,200,50,0.6);box-shadow:0 0 20px rgba(255,200,50,0.15);}
.proxy-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:12px;}
.proxy-title{font-weight:900;font-size:18px;color:#fff;flex:1;}
.proxy-sub{font-size:13px;color:var(--accent-2);opacity:0.9;margin-top:4px;}
.proxy-actions{display:flex;gap:8px;}
.fav-btn{font-size:20px;padding:8px;border-radius:8px;cursor:pointer!important;background:rgba(255,216,107,0.1);color:#ffd86b;border:1px solid rgba(255,216,107,0.2);transition:all .2s;}
.fav-btn.inactive{color:#cfeaff;background:rgba(207,234,255,0.05);border-color:rgba(207,234,255,0.1);}
.fav-btn:hover{transform:scale(1.15) rotate(10deg);}
.proxy-toggle{padding:8px 16px;border-radius:999px;background:linear-gradient(90deg,rgba(0,242,255,0.12),rgba(0,242,255,0.06));color:#cffeff;border:1px solid rgba(0,242,255,0.25);font-weight:700;cursor:pointer!important;transition:all .2s;}
.proxy-toggle:hover{background:linear-gradient(90deg,rgba(0,242,255,0.2),rgba(0,242,255,0.1));box-shadow:0 4px 12px rgba(0,242,255,0.3);}
.links-panel{overflow:hidden;transition:max-height .3s,opacity .2s;max-height:0;opacity:0;margin-top:12px;}
.links-panel.open{opacity:1;max-height:640px;}
.link-item{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:12px;border-radius:10px;background:rgba(0,242,255,0.04);border:1px solid rgba(0,242,255,0.08);margin-top:8px;}
.link-text{color:#e6faff;font-weight:800;font-size:14px;}
.link-url{color:var(--accent-2);font-size:12px;opacity:0.8;}
.link-actions{display:flex;gap:6px;flex-wrap:wrap;}
.icon-btn{padding:6px 12px;border-radius:8px;background:rgba(0,242,255,0.08);color:#cffeff;border:1px solid rgba(0,242,255,0.15);font-weight:700;font-size:12px;cursor:pointer!important;transition:all .2s;}
.icon-btn:hover{background:rgba(0,242,255,0.15);transform:translateY(-2px);}
.vote-btn{padding:6px 10px;border-radius:6px;border:1px solid rgba(0,242,255,0.12);cursor:pointer!important;background:rgba(0,242,255,0.05);color:#9befff;font-weight:700;font-size:11px;transition:all .2s;}
.vote-btn.voted{background:linear-gradient(90deg,rgba(0,242,255,0.2),rgba(0,242,255,0.12));color:#00f2ff;border-color:rgba(0,242,255,0.4);}
.vote-count{font-size:12px;color:var(--accent-2);padding:4px 8px;background:rgba(0,242,255,0.05);border-radius:6px;}

/* Updates & Partners */
.content-card{background:var(--glass);border-radius:20px;padding:32px;border:2px solid rgba(0,242,255,0.25);box-shadow:0 12px 48px rgba(0,0,0,0.4);margin-top:20px;}
.section-title{font-size:clamp(32px,5vw,56px);letter-spacing:0.15em;text-transform:uppercase;color:#e6faff;text-shadow:0 0 20px rgba(0,242,255,0.8);text-align:center;font-weight:900;margin-bottom:32px;}
.update-entry{border-left:6px solid var(--accent);padding-left:24px;margin-bottom:24px;background:rgba(0,242,255,0.03);padding:20px 20px 20px 24px;border-radius:0 12px 12px 0;}
.update-date{font-size:20px;font-weight:900;color:var(--accent);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:10px;}
.update-body{font-size:16px;line-height:1.6;color:#e6faff;}
.partners-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:20px;margin-top:20px;}
.partner-card{background:rgba(10,20,30,0.5);border-radius:16px;padding:24px;border:1px solid rgba(0,242,255,0.15);display:flex;flex-direction:column;align-items:center;text-align:center;transition:all .3s;min-height:220px;}
.partner-card:hover{transform:translateY(-6px);border-color:rgba(0,242,255,0.4);box-shadow:0 8px 32px rgba(0,242,255,0.2);}
.partner-logo{width:100px;height:100px;object-fit:contain;border-radius:12px;margin-bottom:16px;}
.partner-name{font-weight:700;font-size:18px;color:#fff;margin-bottom:8px;}
.partner-desc{font-size:13px;color:var(--accent-2);margin-bottom:16px;}

/* Tools */
.tools-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:20px;margin-top:20px;}
.tool-card{background:var(--glass);border-radius:16px;padding:24px;border:1px solid rgba(0,242,255,0.2);min-height:320px;}
.tool-title{font-size:20px;font-weight:900;color:#00f2ff;margin-bottom:16px;display:flex;align-items:center;gap:10px;}
.tool-display{font-size:48px;font-weight:900;color:#fff;font-family:monospace;text-shadow:0 0 20px rgba(0,242,255,0.6);margin:16px 0;}
.tool-controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px;}

/* Floating elements */
.fab{position:fixed;right:24px;bottom:24px;z-index:9997;width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border:2px solid rgba(0,242,255,0.4);display:none;align-items:center;justify-content:center;color:#fff;cursor:pointer!important;box-shadow:0 8px 24px rgba(102,126,234,0.4);transition:all .3s;font-size:28px;}
body.unlocked .fab{display:inline-flex!important;}
.fab:hover{transform:translateY(-6px) scale(1.1);box-shadow:0 12px 40px rgba(102,126,234,0.6);}
.quick-actions{position:fixed;right:24px;bottom:100px;z-index:9996;display:none;flex-direction:column;gap:12px;}
.quick-actions.show{display:flex;}
.quick-action{background:var(--glass-strong);border:1px solid rgba(0,242,255,0.25);padding:14px 20px;border-radius:14px;color:#fff;cursor:pointer!important;transition:all .2s;backdrop-filter:blur(12px);display:flex;align-items:center;gap:12px;font-weight:700;}
.quick-action:hover{transform:translateX(-6px);background:rgba(0,242,255,0.2);border-color:rgba(0,242,255,0.4);box-shadow:0 4px 16px rgba(0,242,255,0.3);}

.toast-notification{position:fixed;top:80px;right:20px;z-index:100000;background:var(--glass-strong);border:1px solid rgba(0,242,255,0.3);border-radius:12px;padding:16px 20px;min-width:280px;box-shadow:0 10px 40px rgba(0,0,0,0.6),0 0 20px rgba(0,242,255,0.2);backdrop-filter:blur(12px);transform:translateX(400px);opacity:0;transition:all .3s;}
.toast-notification.show{transform:translateX(0);opacity:1;}
.toast-notification.success{border-color:rgba(0,255,150,0.4);background:rgba(0,255,150,0.1);}
.toast-notification.error{border-color:rgba(255,50,50,0.4);background:rgba(255,50,50,0.1);}

.peak-link{background:rgba(0,242,255,0.08);border:1px solid rgba(0,242,255,0.2);color:var(--accent-2);padding:10px 16px;border-radius:10px;cursor:pointer!important;transition:all .2s;font-weight:700;}
.peak-link:hover{background:rgba(0,242,255,0.15);border-color:rgba(0,242,255,0.35);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,242,255,0.2);}

/* Educational disguise */
#edu-disguise{position:fixed;inset:0;z-index:999999;background:#f5f5f5;overflow-y:auto;display:block;font-family:Georgia,serif;}
body.unlocked #edu-disguise{display:none!important;}
#secret-access{cursor:pointer!important;transition:all 0.3s;}
#peak-root{display:none!important;visibility:hidden!important;opacity:0!important;}
body.unlocked #peak-root{display:flex!important;visibility:visible!important;opacity:1!important;}
body:not(.unlocked) #peak-starfield,body:not(.unlocked) .peak-scanlines,body:not(.unlocked) #customCursor,body:not(.unlocked) #settingsPanel,body:not(.unlocked) #peak-root,body:not(.unlocked) #peak-root *{display:none!important;visibility:hidden!important;opacity:0!important;pointer-events:none!important;}
body.unlocked.custom-cursor-enabled #customCursor{display:block!important;visibility:visible!important;pointer-events:none!important;}

@media (max-width:900px){
  #sideNav{position:fixed;left:50%;transform:translateX(-50%);bottom:12px;top:auto;width:min(92%,760px);height:var(--nav-collapsed);flex-direction:row;padding:10px;}
  .nav-items{flex-direction:row;gap:8px;overflow:auto;padding:0 6px;display:flex!important;}
  .nav-item{padding:10px;justify-content:center;}
  .nav-item span{display:none;}
  .os-dashboard{grid-template-columns:1fr;}
  .hero-widget{grid-column:1;}
}
</style>
</head>
<body>

<!-- Educational Disguise -->
<div id="edu-disguise">
  <div style="max-width:1200px;margin:0 auto;padding:40px 20px;color:#333;">
    <header style="text-align:center;margin-bottom:40px;border-bottom:3px solid #2c5aa0;padding-bottom:20px;">
      <h1 style="font-size:42px;color:#2c5aa0;margin:0 0 10px 0;">Student Learning Portal</h1>
      <p style="font-size:18px;color:#666;">Comprehensive Educational Resources</p>
    </header>
    <nav style="background:#2c5aa0;padding:15px;border-radius:8px;margin-bottom:30px;">
      <div style="display:flex;gap:20px;justify-content:center;flex-wrap:wrap;">
        <a href="#" style="color:white;padding:8px 16px;">Home</a>
        <a href="#" style="color:white;padding:8px 16px;">Resources</a>
        <a href="#" style="color:white;padding:8px 16px;">Tools</a>
      </div>
    </nav>
    <main style="display:grid;grid-template-columns:2fr 1fr;gap:30px;">
      <div>
        <article style="background:white;padding:30px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);">
          <h2 style="color:#2c5aa0;">Welcome</h2>
          <p style="line-height:1.8;color:#555;">Access quality learning materials and study tools.</p>
        </article>
      </div>
      <aside>
        <div style="background:white;padding:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1);">
          <h3 style="color:#2c5aa0;">Quick Access</h3>
          <div id="secret-access" style="background:#f0f7ff;padding:15px;border-radius:4px;margin-top:10px;border:2px solid #2c5aa0;">
            <h4 style="margin:0 0 8px 0;color:#2c5aa0;">üìä Interactive Tools</h4>
            <p style="margin:0;font-size:13px;color:#555;">Access calculators and utilities</p>
          </div>
        </div>
      </aside>
    </main>
    <footer style="background:#2c5aa0;color:white;padding:20px;border-radius:8px;margin-top:40px;text-align:center;">
      <p style="margin:0;">¬© 2026 Student Learning Portal</p>
    </footer>
  </div>
</div>

<div id="peak-root">
  <canvas id="peak-starfield"></canvas>
  <div class="peak-scanlines"></div>

  <div class="shell">
    <div class="app-inner">
      <!-- Sidebar -->
      <nav id="sideNav">
        <div id="sideNavHeader">
          <div style="display:flex;align-items:center;gap:10px;">
            <svg class="peak-logo-svg" viewBox="0 0 100 100" style="width:48px;height:48px;">
              <path d="M50 15 L90 85 L10 85 Z"></path>
            </svg>
            <div class="nav-title">PEAK</div>
          </div>
          <button id="navToggle">‚ñæ</button>
        </div>
        <div class="nav-items">
          <div class="nav-item active" data-section="dashboard" tabindex="0">
            <svg viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zM13 21h8V11h-8v10zM13 3v6h8V3h-8zM3 21h8v-6H3v6z" fill="currentColor"/></svg>
            <span>Dashboard</span>
          </div>
          <div class="nav-item" data-section="hub" tabindex="0">
            <svg viewBox="0 0 24 24"><path d="M12 2l2.5 5.5L20 8l-4 3.5L17 17l-5-2.5L7 17l1-5.5L4 8l5.5-.5L12 2z" fill="currentColor"/></svg>
            <span>Proxy Hub</span>
          </div>
          <div class="nav-item" data-section="tools" tabindex="0">
            <svg viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" fill="currentColor"/></svg>
            <span>Tools</span>
          </div>
          <div class="nav-item" data-section="partners" tabindex="0">
            <svg viewBox="0 0 24 24"><path d="M12 12a5 5 0 100-10 5 5 0 000 10zM2 20c0-3.3 4.4-5 10-5s10 1.7 10 5v1H2v-1z" fill="currentColor"/></svg>
            <span>Partners</span>
          </div>
          <div class="nav-item" data-section="updates" tabindex="0">
            <svg viewBox="0 0 24 24"><path d="M12 8v5l4 2 1-1.7-3-1.5V8zM20 6v8c0 4.4-4 8-8 8s-8-3.6-8-8V6h16z" fill="currentColor"/></svg>
            <span>Updates</span>
          </div>
          <div class="nav-item" id="discordNav" tabindex="0">
            <svg viewBox="0 0 24 24"><path d="M7 7h10v1H7zM7 10h10v1H7z" fill="currentColor"/></svg>
            <span>Discord</span>
          </div>
        </div>
      </nav>

      <!-- Main Content -->
      <main class="app-content">
        <!-- Top Bar -->
        <div class="top-bar">
          <div class="top-bar-left">
            <div class="current-time" id="topBarTime">--:--:--</div>
          </div>
          <div class="top-bar-right">
            <button class="top-bar-btn" id="quickActionsBtn" title="Quick Actions">‚ö°</button>
            <button class="top-bar-btn" id="settingsBtn" title="Settings">‚öô</button>
          </div>
        </div>

        <!-- Settings Panel -->
        <div id="settingsPanel">
          <div class="settings-header">
            <div class="settings-title">Settings</div>
            <button id="closeSettings" class="peak-link">‚úï</button>
          </div>
          <div class="tabs">
            <button class="tab" role="tab" aria-selected="true" data-tab="general">General</button>
            <button class="tab" role="tab" aria-selected="false" data-tab="appearance">Appearance</button>
          </div>
          <div class="settings-body">
            <div class="settings-page" data-page="general">
              <div class="settings-row">
                <div class="settings-label">Custom Cursor</div>
                <button id="cursorToggle" class="peak-link">On</button>
              </div>
              <div class="settings-row">
                <div class="settings-label">Collapse Sidebar</div>
                <button id="navCollapseToggle" class="peak-link">Toggle</button>
              </div>
              <div class="settings-row">
                <div class="settings-label">Quick Actions</div>
                <button id="quickActionsSettingsBtn" class="peak-link">‚ö° Open</button>
              </div>
            </div>
            <div class="settings-page" data-page="appearance" hidden>
              <div class="settings-row">
                <div class="settings-label">Theme</div>
                <select id="themeSelect" style="background:rgba(0,242,255,0.1);border:1px solid rgba(0,242,255,0.2);color:#fff;padding:8px;border-radius:6px;">
                  <option value="theme-dark">Dark</option>
                  <option value="theme-neon">Neon</option>
                </select>
              </div>
              <div class="settings-row">
                <div class="settings-label">Accent Color</div>
                <input id="accentColor" type="color" value="#00f2ff" style="width:60px;height:40px;border:1px solid rgba(0,242,255,0.3);border-radius:6px;">
              </div>
            </div>
          </div>
        </div>

        <!-- Sections -->
        <div class="sections">
          <!-- Dashboard -->
          <section id="section-dashboard" class="section active">
            <div class="os-dashboard">
              <!-- Hero Widget -->
              <div class="os-widget hero-widget">
                <div class="hero-content">
                  <svg class="hero-logo peak-logo-svg" viewBox="0 0 100 100">
                    <path d="M50 15 L90 85 L10 85 Z"></path>
                    <path d="M35 55 L60 85 L10 85 Z" opacity="0.7"></path>
                  </svg>
                  <div class="hero-title">PEAK UBG</div>
                  <div class="hero-subtitle">Operating System ¬∑ Enhanced Edition v2.0</div>
                </div>
              </div>

              <!-- Clock Widget -->
              <div class="os-widget">
                <div class="widget-header">
                  <div class="widget-icon">üïê</div>
                </div>
                <div class="widget-title">Time</div>
                <div class="widget-value" id="dashClock">--:--</div>
                <div class="widget-sub" id="dashDate">Loading...</div>
              </div>

              <!-- Battery Widget -->
              <div class="os-widget">
                <div class="widget-header">
                  <div class="widget-icon">üîã</div>
                </div>
                <div class="widget-title">Battery</div>
                <div class="widget-value" id="battery">--%</div>
                <div class="widget-sub" id="batteryStatus">Checking...</div>
              </div>

              <!-- Status Widget -->
              <div class="os-widget">
                <div class="widget-header">
                  <div class="widget-icon">üì°</div>
                </div>
                <div class="widget-title">System</div>
                <div class="widget-value" style="font-size:24px;" id="news">Online</div>
                <div class="widget-sub">All services operational</div>
              </div>

              <!-- Quick Stats -->
              <div class="os-widget">
                <div class="widget-header">
                  <div class="widget-icon">üìä</div>
                </div>
                <div class="widget-title">Proxies</div>
                <div class="widget-value" id="proxyCount">12</div>
                <div class="widget-sub">Active endpoints</div>
              </div>

              <!-- Version Info -->
              <div class="os-widget">
                <div class="widget-header">
                  <div class="widget-icon">‚ÑπÔ∏è</div>
                </div>
                <div class="widget-title">Version</div>
                <div class="widget-value" style="font-size:32px;">2.0</div>
                <div class="widget-sub">Latest build</div>
              </div>
            </div>
          </section>

          <!-- Proxy Hub -->
          <section id="section-hub" class="section">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
              <h2 style="font-size:32px;color:#00f2ff;font-weight:900;text-shadow:0 0 20px rgba(0,242,255,0.6);">Proxy Hub</h2>
              <button id="hub-back" class="peak-link">‚Üê Back</button>
            </div>
            <div class="hub-grid" id="hubGrid"></div>
          </section>

          <!-- Tools -->
          <section id="section-tools" class="section">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
              <h2 style="font-size:32px;color:#00f2ff;font-weight:900;text-shadow:0 0 20px rgba(0,242,255,0.6);">School Tools</h2>
              <button id="tools-back" class="peak-link">‚Üê Back</button>
            </div>
            <div class="tools-grid">
              <div class="tool-card">
                <div class="tool-title">‚è±Ô∏è Timer</div>
                <div class="tool-display" id="timerDisplay">05:00</div>
                <div class="tool-controls">
                  <button id="timerStart" class="peak-link">Start</button>
                  <button id="timerPause" class="peak-link">Pause</button>
                  <button id="timerReset" class="peak-link">Reset</button>
                </div>
              </div>
              <div class="tool-card">
                <div class="tool-title">‚è≤Ô∏è Stopwatch</div>
                <div class="tool-display" id="stopwatchDisplay">00:00:00</div>
                <div class="tool-controls">
                  <button id="stopwatchStart" class="peak-link">Start</button>
                  <button id="stopwatchLap" class="peak-link">Lap</button>
                  <button id="stopwatchReset" class="peak-link">Reset</button>
                </div>
              </div>
            </div>
          </section>

          <!-- Partners -->
          <section id="section-partners" class="section">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
              <h2 style="font-size:32px;color:#00f2ff;font-weight:900;text-shadow:0 0 20px rgba(0,242,255,0.6);">Partners</h2>
              <button id="partners-back" class="peak-link">‚Üê Back</button>
            </div>
            <div class="partners-grid" id="partnersGrid"></div>
          </section>

          <!-- Updates -->
          <section id="section-updates" class="section">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
              <h2 style="font-size:32px;color:#00f2ff;font-weight:900;text-shadow:0 0 20px rgba(0,242,255,0.6);">Updates</h2>
              <button id="updates-back" class="peak-link">‚Üê Back</button>
            </div>
            <div class="content-card">
              <div class="update-entry">
                <div class="update-date">January 2026</div>
                <div class="update-body">
                  <b>MAJOR UPDATE v2.0:</b> Complete OS-style dashboard redesign! New features include widget-based layout, enhanced sidebar, top bar with quick actions, improved custom cursor (now auto-enabled), and much more. <br><br>
                  <i>The future is here. Welcome to PEAK UBG 2.0 üöÄ</i>
                </div>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>
  </div>

  <!-- FAB -->
  <button class="fab" id="fabBtn">‚ö°</button>

  <!-- Quick Actions -->
  <div class="quick-actions" id="quickActions">
    <div class="quick-action" data-action="screenshot">üì∏ Screenshot Mode</div>
    <div class="quick-action" data-action="fullscreen">üñ•Ô∏è Fullscreen</div>
    <div class="quick-action" data-action="panic">üö® Panic Mode</div>
  </div>
</div>

<!-- Custom Cursor -->
<div class="custom-cursor" id="customCursor">
  <div class="ring"></div>
  <div class="dot"></div>
</div>

<script>
(function(){
const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));

function showToast(msg, type = 'info', dur = 3000) {
  const toast = document.createElement('div');
  toast.className = 'toast-notification ' + type;
  toast.innerHTML = `<div style="display:flex;align-items:center;gap:10px;color:#fff;font-weight:700;">${type==='success'?'‚úì':type==='error'?'‚úï':'‚Ñπ'} <span>${msg}</span></div>`;
  document.body.appendChild(toast);
  setTimeout(() => toast.classList.add('show'), 10);
  setTimeout(() => { toast.classList.remove('show'); setTimeout(() => toast.remove(), 300); }, dur);
}

/* Educational Disguise */
(function() {
  let clicks = 0;
  const btn = $('#secret-access');
  const disguise = $('#edu-disguise');
  
  function unlock() {
    document.body.classList.add('unlocked');
    disguise.style.transition = 'opacity 0.6s';
    disguise.style.opacity = '0';
    setTimeout(() => {
      disguise.style.display = 'none';
      initStarfield();
      // Auto-enable custom cursor
      setTimeout(() => {
        document.body.classList.add('custom-cursor-enabled');
        initCursor();
        const toggle = $('#cursorToggle');
        if (toggle) toggle.textContent = 'On';
      }, 100);
      setTimeout(() => showToast('‚ú® Welcome to PEAK UBG OS!', 'success', 3000), 500);
    }, 600);
  }
  
  btn?.addEventListener('click', e => {
    e.preventDefault();
    clicks++;
    if (clicks === 1) {
      btn.style.background = '#fff3cd';
      btn.querySelector('p').textContent = 'Click once more...';
    } else if (clicks === 2) {
      btn.style.background = '#d4edda';
      setTimeout(unlock, 800);
    }
  });
  
  document.addEventListener('keydown', e => {
    if (e.ctrlKey && e.shiftKey && e.key === 'L') {
      e.preventDefault();
      unlock();
    }
  });
})();

/* Starfield */
function initStarfield() {
  const canvas = $('#peak-starfield');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let w = canvas.width = window.innerWidth;
  let h = canvas.height = window.innerHeight;
  const stars = [];
  for (let i = 0; i < 80; i++) {
    stars.push({
      x: Math.random() * w,
      y: Math.random() * h,
      r: Math.random() * 2 + 0.5,
      s: Math.random() * 0.08 + 0.02,
      c: Math.random() < 0.7 ? 'rgba(0,242,255,' : 'rgba(255,255,255,'
    });
  }
  window.addEventListener('resize', () => {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
  });
  (function frame() {
    if (!document.body.classList.contains('unlocked')) return;
    ctx.clearRect(0, 0, w, h);
    stars.forEach(s => {
      s.y += s.s;
      if (s.y > h) { s.y = 0; s.x = Math.random() * w; }
      ctx.fillStyle = s.c + (0.6 + Math.random() * 0.4) + ')';
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
      ctx.fill();
    });
    requestAnimationFrame(frame);
  })();
}

/* Custom Cursor */
function initCursor() {
  const cursor = $('#customCursor');
  if (!cursor) return;
  let mx = window.innerWidth/2, my = window.innerHeight/2;
  let cx = mx, cy = my;
  
  document.addEventListener('mousemove', e => {
    if (!document.body.classList.contains('unlocked')) return;
    mx = e.clientX;
    my = e.clientY;
    cursor.style.opacity = '1';
  });
  
  document.addEventListener('mousedown', () => cursor.classList.add('cursor-click'));
  document.addEventListener('mouseup', () => cursor.classList.remove('cursor-click'));
  
  $$('a,button,input,select,.nav-item,.os-widget').forEach(el => {
    el.addEventListener('mouseenter', () => cursor.classList.add('cursor-hover'));
    el.addEventListener('mouseleave', () => cursor.classList.remove('cursor-hover'));
  });
  
  (function raf() {
    if (!document.body.classList.contains('unlocked')) return;
    cx += (mx - cx) * 0.18;
    cy += (my - cy) * 0.18;
    cursor.style.left = cx + 'px';
    cursor.style.top = cy + 'px';
    requestAnimationFrame(raf);
  })();
}

/* Navigation */
const sections = {
  dashboard: $('#section-dashboard'),
  hub: $('#section-hub'),
  tools: $('#section-tools'),
  partners: $('#section-partners'),
  updates: $('#section-updates')
};
let current = 'dashboard';

function showSection(id) {
  Object.values(sections).forEach(s => s?.classList.remove('active'));
  sections[id]?.classList.add('active');
  current = id;
  $$('.nav-item').forEach(n => n.classList.toggle('active', n.dataset.section === id));
  if (id === 'tools') setTimeout(initTools, 100);
}

$$('.nav-item').forEach(item => {
  item.addEventListener('click', () => {
    if (item.id === 'discordNav') {
      window.open('https://discord.gg/BWn3dZyxcp', '_blank');
      showToast('üí¨ Opening Discord...', 'info', 2000);
    } else {
      showSection(item.dataset.section);
    }
  });
});

$('#navToggle')?.addEventListener('click', () => $('#sideNav')?.classList.toggle('collapsed'));

/* Back buttons */
$('#hub-back')?.addEventListener('click', () => showSection('dashboard'));
$('#tools-back')?.addEventListener('click', () => showSection('dashboard'));
$('#partners-back')?.addEventListener('click', () => showSection('dashboard'));
$('#updates-back')?.addEventListener('click', () => showSection('dashboard'));

/* Settings */
const settingsBtn = $('#settingsBtn');
const panel = $('#settingsPanel');
const tabs = $$('.tab');
const pages = $$('.settings-page');

settingsBtn?.addEventListener('click', () => panel?.classList.toggle('open'));
$('#closeSettings')?.addEventListener('click', () => panel?.classList.remove('open'));

tabs.forEach(t => t.addEventListener('click', () => {
  tabs.forEach(x => x.setAttribute('aria-selected', 'false'));
  t.setAttribute('aria-selected', 'true');
  pages.forEach(p => p.hidden = p.dataset.page !== t.dataset.tab);
}));

$('#cursorToggle')?.addEventListener('click', e => {
  const enabled = document.body.classList.toggle('custom-cursor-enabled');
  e.target.textContent = enabled ? 'On' : 'Off';
  if (enabled) initCursor();
  showToast(enabled ? 'Custom cursor enabled' : 'Custom cursor disabled', 'success');
});

$('#navCollapseToggle')?.addEventListener('click', () => $('#sideNav')?.classList.toggle('collapsed'));

$('#themeSelect')?.addEventListener('change', e => {
  document.body.classList.remove('theme-dark', 'theme-neon');
  document.body.classList.add(e.target.value);
});

$('#accentColor')?.addEventListener('input', e => {
  document.documentElement.style.setProperty('--accent', e.target.value);
  document.documentElement.style.setProperty('--accent-2', e.target.value);
});

/* Dashboard */
function updateClock() {
  const now = new Date();
  const time = now.toLocaleTimeString();
  const date = now.toLocaleDateString(undefined, {weekday:'long', month:'long', day:'numeric', year:'numeric'});
  
  const topTime = $('#topBarTime');
  const dashClock = $('#dashClock');
  const dashDate = $('#dashDate');
  
  if (topTime) topTime.textContent = time;
  if (dashClock) dashClock.textContent = time;
  if (dashDate) dashDate.textContent = date;
}
setInterval(updateClock, 1000);
updateClock();

if (navigator.getBattery) {
  navigator.getBattery().then(b => {
    const update = () => {
      const bat = $('#battery');
      const status = $('#batteryStatus');
      if (bat) bat.textContent = Math.round(b.level * 100) + '%';
      if (status) status.textContent = b.charging ? 'Charging' : 'On Battery';
    };
    update();
    b.addEventListener('levelchange', update);
    b.addEventListener('chargingchange', update);
  }).catch(() => {
    const bat = $('#battery');
    const status = $('#batteryStatus');
    if (bat) bat.textContent = 'N/A';
    if (status) status.textContent = 'Unavailable';
  });
}

const newsItems = ['System Online', 'All Systems Go', 'Operating Normally', 'Peak Performance', 'Status: Optimal'];
let newsIdx = 0;
setInterval(() => {
  const el = $('#news');
  if (el) el.textContent = newsItems[newsIdx];
  newsIdx = (newsIdx + 1) % newsItems.length;
}, 4000);

/* Proxy Hub */
const PROXIES = [
  {id:'truffled', name:'truffled', subtitle:'truffel', links:[
    {title:'Link 1', url:'https://educational.radissontucson.com/'},
    {title:'Link 2', url:'https://vacation.briaquaticcabinets.com/'}
  ]},
  {id:'overcloacked', name:'Overcloacked', subtitle:'best proxy', links:[
    {title:'Link 1', url:'https://d58o0iyi.beanweb.qzz.io.cdn.cloudflare.net/'},
    {title:'Link 2', url:'https://stayat.hotelconsuladoinn.com/'}
  ]},
  {id:'fern', name:'fern', subtitle:'epic', links:[
    {title:'Link 1', url:'https://apple1.vandrekalenderen.dk/'}
  ]},
  {id:'infamous', name:'infamous', subtitle:'evil', links:[
    {title:'Link 1', url:'orphan.hotelconsuladoinn.com'},
    {title:'Link 2', url:'poor.hotelconsuladoinn.com'}
  ]},
  {id:'void-network', name:'Void network', subtitle:'space', links:[
    {title:'Link 1', url:'edu.ucecom-craiova.ro'},
    {title:'Link 2', url:'gov.proyectojusticia.com.mx'}
  ]},
  {id:'endis', name:'Endis', subtitle:'poptart', links:[
    {title:'Link 1', url:'https://endis.cute.lat/'},
    {title:'Link 2', url:'cute.lat'}
  ]},
  {id:'glint', name:'glint', subtitle:'copier', links:[
    {title:'Link 1', url:'https://aqua.bastaff.ru/'},
    {title:'Link 2', url:'https://ixll.creographix.at/'}
  ]},
  {id:'geometry-learn-v4', name:'geometry learn v4', subtitle:'w proxy', links:[
    {title:'Link 1', url:'https://geometry-volume4.websdr64.ru'}
  ]},
  {id:'ghost', name:'Ghost', subtitle:'nice', links:[
    {title:'Link 1', url:'https://d3i98h3wj731z8.cloudfront.net/'}
  ]},
  {id:'bolt', name:'bolt', subtitle:'fast', links:[
    {title:'Link 1', url:'apple33.hicam.net'}
  ]},
  {id:'uniub', name:'Uniub', subtitle:'weird', links:[
    {title:'Link 1', url:'https://learnaboutbillclinton.bisblick.org/'},
    {title:'Link 2', url:'https://aphistorytutoring.bisblick.org/'}
  ]},
  {id:'saturn', name:'Saturn', subtitle:'space', links:[
    {title:'Link 1', url:'https://lightspeedisass.graphicon.org/'}
  ]}
];

let favs = {};
try { favs = JSON.parse(localStorage.getItem('peak-favs') || '{}'); } catch(e) {}

function buildHub() {
  const grid = $('#hubGrid');
  if (!grid) return;
  grid.innerHTML = '';
  
  PROXIES.forEach(proxy => {
    const card = document.createElement('div');
    card.className = 'proxy-card' + (favs[proxy.id] ? ' favorite' : '');
    
    card.innerHTML = `
      <div class="proxy-header">
        <div>
          <div class="proxy-title">${proxy.name}</div>
          <div class="proxy-sub">${proxy.subtitle}</div>
        </div>
        <div class="proxy-actions">
          <button class="fav-btn ${favs[proxy.id] ? '' : 'inactive'}" data-id="${proxy.id}">${favs[proxy.id] ? '‚òÖ' : '‚òÜ'}</button>
          <button class="proxy-toggle" data-id="${proxy.id}">Open</button>
        </div>
      </div>
      <div class="links-panel" id="panel-${proxy.id}">
        ${proxy.links.map(link => `
          <div class="link-item">
            <div>
              <div class="link-text">${link.title}</div>
              <div class="link-url">${link.url}</div>
            </div>
            <div class="link-actions">
              <button class="icon-btn" onclick="window.open('${link.url.startsWith('http') ? link.url : 'https://'+link.url}','_blank')">Open</button>
              <button class="icon-btn" onclick="navigator.clipboard.writeText('${link.url}').then(()=>showToast('Copied!','success',1500))">Copy</button>
            </div>
          </div>
        `).join('')}
      </div>
    `;
    
    grid.appendChild(card);
  });
  
  $$('.fav-btn').forEach(btn => {
    btn.addEventListener('click', e => {
      const id = e.target.dataset.id;
      if (favs[id]) {
        delete favs[id];
        e.target.textContent = '‚òÜ';
        e.target.classList.add('inactive');
        e.target.closest('.proxy-card').classList.remove('favorite');
      } else {
        favs[id] = true;
        e.target.textContent = '‚òÖ';
        e.target.classList.remove('inactive');
        e.target.closest('.proxy-card').classList.add('favorite');
      }
      localStorage.setItem('peak-favs', JSON.stringify(favs));
    });
  });
  
  $$('.proxy-toggle').forEach(btn => {
    btn.addEventListener('click', e => {
      const id = e.target.dataset.id;
      const panel = $('#panel-' + id);
      const isOpen = panel.classList.contains('open');
      
      $$('.links-panel').forEach(p => p.classList.remove('open'));
      $$('.proxy-toggle').forEach(b => b.textContent = 'Open');
      
      if (!isOpen) {
        panel.classList.add('open');
        e.target.textContent = 'Close';
      }
    });
  });
  
  const count = $('#proxyCount');
  if (count) count.textContent = PROXIES.length;
}

buildHub();

/* Partners */
const partners = [
  {name:'No partners yet', desc:'Check back soon!', logo:'https://via.placeholder.com/100?text=Partner', url:'#'}
];

function buildPartners() {
  const grid = $('#partnersGrid');
  if (!grid) return;
  grid.innerHTML = partners.map(p => `
    <div class="partner-card">
      <img class="partner-logo" src="${p.logo}" alt="${p.name}">
      <div class="partner-name">${p.name}</div>
      <div class="partner-desc">${p.desc}</div>
      <button class="peak-link" onclick="window.open('${p.url}','_blank')">Visit</button>
    </div>
  `).join('');
}
buildPartners();

/* Tools */
let timerSecs = 300, timerInt = null, timerRunning = false;
let stopwatchMs = 0, stopwatchInt = null, stopwatchRunning = false;

function initTools() {
  const timerDisplay = $('#timerDisplay');
  const timerStart = $('#timerStart');
  const timerPause = $('#timerPause');
  const timerReset = $('#timerReset');
  
  function updateTimer() {
    if (!timerDisplay) return;
    const m = Math.floor(timerSecs / 60);
    const s = timerSecs % 60;
    timerDisplay.textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }
  
  timerStart?.addEventListener('click', () => {
    if (!timerRunning && timerSecs > 0) {
      timerRunning = true;
      timerInt = setInterval(() => {
        if (timerSecs > 0) {
          timerSecs--;
          updateTimer();
        } else {
          clearInterval(timerInt);
          timerRunning = false;
          showToast('‚è∞ Timer finished!', 'success', 3000);
        }
      }, 1000);
    }
  });
  
  timerPause?.addEventListener('click', () => {
    if (timerRunning) {
      clearInterval(timerInt);
      timerRunning = false;
    }
  });
  
  timerReset?.addEventListener('click', () => {
    clearInterval(timerInt);
    timerRunning = false;
    timerSecs = 300;
    updateTimer();
  });
  
  updateTimer();
  
  // Stopwatch
  const stopwatchDisplay = $('#stopwatchDisplay');
  const stopwatchStart = $('#stopwatchStart');
  const stopwatchLap = $('#stopwatchLap');
  const stopwatchReset = $('#stopwatchReset');
  
  function updateStopwatch() {
    if (!stopwatchDisplay) return;
    const h = Math.floor(stopwatchMs / 3600000);
    const m = Math.floor((stopwatchMs % 3600000) / 60000);
    const s = Math.floor((stopwatchMs % 60000) / 1000);
    stopwatchDisplay.textContent = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }
  
  stopwatchStart?.addEventListener('click', () => {
    if (!stopwatchRunning) {
      stopwatchRunning = true;
      const start = Date.now() - stopwatchMs;
      stopwatchInt = setInterval(() => {
        stopwatchMs = Date.now() - start;
        updateStopwatch();
      }, 100);
      stopwatchStart.textContent = 'Stop';
    } else {
      clearInterval(stopwatchInt);
      stopwatchRunning = false;
      stopwatchStart.textContent = 'Start';
    }
  });
  
  stopwatchReset?.addEventListener('click', () => {
    clearInterval(stopwatchInt);
    stopwatchRunning = false;
    stopwatchMs = 0;
    updateStopwatch();
    if (stopwatchStart) stopwatchStart.textContent = 'Start';
  });
  
  updateStopwatch();
}

/* FAB & Quick Actions */
const fab = $('#fabBtn');
const qa = $('#quickActions');

fab?.addEventListener('click', () => {
  qa?.classList.toggle('show');
  if (fab) fab.textContent = qa?.classList.contains('show') ? '‚úï' : '‚ö°';
});

$('#quickActionsBtn')?.addEventListener('click', () => {
  qa?.classList.toggle('show');
  if (fab) fab.textContent = qa?.classList.contains('show') ? '‚úï' : '‚ö°';
});

$('#quickActionsSettingsBtn')?.addEventListener('click', () => {
  panel?.classList.remove('open');
  setTimeout(() => {
    qa?.classList.toggle('show');
    if (fab) fab.textContent = qa?.classList.contains('show') ? '‚úï' : '‚ö°';
  }, 100);
});

$$('.quick-action').forEach(action => {
  action.addEventListener('click', () => {
    const act = action.dataset.action;
    qa?.classList.remove('show');
    if (fab) fab.textContent = '‚ö°';
    
    if (act === 'screenshot') {
      showToast('üì∏ Screenshot mode - Press ESC to exit', 'info', 3000);
      document.body.style.cursor = 'crosshair';
      const handler = e => {
        if (e.key === 'Escape') {
          document.body.style.cursor = '';
          document.removeEventListener('keydown', handler);
          showToast('Screenshot mode disabled', 'info', 2000);
        }
      };
      document.addEventListener('keydown', handler);
    } else if (act === 'fullscreen') {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().then(() => {
          showToast('üñ•Ô∏è Fullscreen enabled', 'success', 2000);
        }).catch(() => showToast('Fullscreen not supported', 'error'));
      } else {
        document.exitFullscreen();
        showToast('Fullscreen disabled', 'info', 2000);
      }
    } else if (act === 'panic') {
      window.location.href = 'https://www.google.com';
    }
  });
});

/* Keyboard Shortcuts */
document.addEventListener('keydown', e => {
  if (!document.body.classList.contains('unlocked')) return;
  if (e.target && /input|textarea/i.test(e.target.tagName)) return;
  
  const k = e.key.toLowerCase();
  if (k === 'h') showSection('dashboard');
  else if (k === 'p') showSection('hub');
  else if (k === 't') showSection('tools');
  else if (k === 'r') showSection('partners');
  else if (k === 'u') showSection('updates');
  else if (k === 's') $('#sideNav')?.classList.toggle('collapsed');
  else if (k === ',') settingsBtn?.click();
  else if (k === 'escape') {
    panel?.classList.remove('open');
    qa?.classList.remove('show');
    if (fab) fab.textContent = '‚ö°';
  }
});

console.log('‚ú® PEAK UBG OS v2.0 - Enhanced Edition Ready!');
})();
</script>
</body>
</html>

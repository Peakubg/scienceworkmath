<!doctype html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Educational Resources | Student Learning Portal</title>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#08090f;--bg2:#0e1018;--bg3:#141824;
  --acc:#00d9ff;--txt:#eef0f4;--txt2:#6b7280;
  --border:rgba(255,255,255,0.06);
  --border-acc:rgba(0,217,255,0.22);
  --glow:rgba(0,217,255,0.18);
  --bar-h:64px;
  --anim-speed:1;
}
*{box-sizing:border-box;margin:0;padding:0;}
html,body{width:100%;height:100%;font-family:'Share Tech',sans-serif;-webkit-font-smoothing:antialiased;overflow:hidden;}
body{background:var(--bg);color:var(--txt);}

/* ‚îÄ‚îÄ‚îÄ DISGUISE ‚îÄ‚îÄ‚îÄ */
#disguise{position:fixed;inset:0;z-index:99999;background:#f4f6f9;overflow-y:auto;font-family:Georgia,serif;transition:opacity .5s,transform .5s;}
#disguise.hide{opacity:0;transform:scale(1.03);pointer-events:none;}
body.unlocked #disguise{display:none;}
#disguise .edu-wrap{max-width:1100px;margin:0 auto;padding:36px 22px 64px;}
.edu-topbar{display:flex;justify-content:space-between;align-items:center;font-family:Arial,sans-serif;font-size:12px;color:#6b7c8f;margin-bottom:10px;}
.edu-topbar span{display:flex;gap:10px;align-items:center;}
.edu-topbar a{color:#2c5aa0;text-decoration:none;}
.edu-header{background:#fff;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.06);padding:18px 22px;display:flex;align-items:center;gap:18px;margin-bottom:18px;border:1px solid #d9e4f2;}
.edu-logo{width:54px;height:54px;border-radius:12px;background:#2c5aa0;color:#fff;display:flex;align-items:center;justify-content:center;font-size:24px;font-family:Arial,sans-serif;font-weight:700;}
.edu-brand h1{font-size:26px;color:#223a63;margin:0;font-family:'Trebuchet MS',sans-serif;}
.edu-brand p{color:#6a7a8a;font-size:14px;margin:4px 0 0;}
.edu-nav{display:flex;gap:14px;margin-left:auto;flex-wrap:wrap;}
.edu-nav a{color:#2c5aa0;font-weight:600;font-size:13px;text-decoration:none;padding:6px 10px;border-radius:6px;}
.edu-nav a:hover{background:#eef4fb;}
.edu-hero{background:linear-gradient(135deg,#eaf2fb,#f6f9fd);border:1px solid #d7e3f3;border-radius:12px;padding:22px;margin-bottom:18px;display:grid;grid-template-columns:2fr 1fr;gap:20px;}
.edu-hero h2{color:#223a63;font-size:22px;margin-bottom:8px;font-family:'Trebuchet MS',sans-serif;}
.edu-hero p{color:#5a6a7a;font-size:14px;line-height:1.6;}
.edu-hero .hero-meta{margin-top:14px;display:flex;gap:12px;flex-wrap:wrap;font-size:12px;color:#6a7a8a;}
.edu-hero .hero-meta span{background:#fff;border:1px solid #d6e2f0;padding:6px 10px;border-radius:20px;}
.edu-grid{display:grid;grid-template-columns:2fr 1fr;gap:20px;}
.edu-card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 12px rgba(0,0,0,.07);border:1px solid #e1e9f5;}
.edu-card h3{color:#223a63;margin-bottom:10px;font-size:18px;font-family:'Trebuchet MS',sans-serif;}
.edu-card p{color:#5a6a7a;line-height:1.6;font-size:14px;}
.edu-list{display:grid;gap:10px;margin-top:10px;}
.edu-list-item{display:flex;justify-content:space-between;gap:10px;padding:10px 12px;border:1px solid #e1e9f5;border-radius:10px;background:#f9fbff;font-size:13px;color:#4c5b6a;}
.edu-list-item strong{color:#223a63;}
.edu-table{width:100%;border-collapse:collapse;font-size:12.5px;margin-top:8px;}
.edu-table th,.edu-table td{border-bottom:1px solid #e1e9f5;padding:8px 6px;text-align:left;color:#526272;}
.edu-table th{color:#223a63;font-weight:700;font-size:12px;}
.edu-links{display:grid;gap:8px;margin-top:12px;}
.edu-links a{display:flex;justify-content:space-between;align-items:center;padding:9px 12px;border-radius:8px;border:1px solid #d9e4f2;color:#2c5aa0;text-decoration:none;font-size:13px;background:#f5f9ff;}
.edu-links a:hover{background:#e9f2ff;}
#secret-trigger{background:#eef4fb;border:1.5px solid #b8d0e8;border-radius:10px;padding:16px;cursor:pointer;transition:background .25s,border-color .25s,box-shadow .25s;}
#secret-trigger:hover{background:#e4edf7;border-color:#7bafd4;box-shadow:0 0 12px rgba(44,90,160,.15);}
#secret-trigger h4{color:#2c5aa0;margin-bottom:6px;font-size:15px;}
#secret-trigger p{color:#6a7a8a;font-size:13px;margin:0;}
#secret-trigger .edu-dots{display:flex;gap:6px;margin-top:14px;}
#secret-trigger .edu-dots span{width:8px;height:8px;border-radius:50%;background:#c8d6e5;transition:background .3s,transform .3s;}
#secret-trigger.phase1 .edu-dots span:nth-child(1){background:#2c5aa0;transform:scale(1.3);}
#secret-trigger.phase2 .edu-dots span:nth-child(1),#secret-trigger.phase2 .edu-dots span:nth-child(2){background:#2c5aa0;transform:scale(1.3);}
#secret-trigger.phase3 .edu-dots span{background:#00d9ff;transform:scale(1.4);}

/* ‚îÄ‚îÄ‚îÄ UNLOCK OVERLAY ‚îÄ‚îÄ‚îÄ */
#unlock-overlay{position:fixed;inset:0;z-index:99998;background:rgba(8,9,15,0);display:flex;align-items:center;justify-content:center;pointer-events:none;opacity:0;transition:opacity .4s,background .6s;}
#unlock-overlay.show{pointer-events:auto;opacity:1;background:rgba(8,9,15,.85);}
.unlock-ring{width:140px;height:140px;border-radius:50%;border:2px solid rgba(0,217,255,.15);display:flex;align-items:center;justify-content:center;position:relative;transform:scale(.7);opacity:0;transition:transform .5s cubic-bezier(.34,1.56,1,1),opacity .4s;}
#unlock-overlay.show .unlock-ring{transform:scale(1);opacity:1;}
.unlock-ring::before{content:'';position:absolute;inset:-6px;border-radius:50%;border:1px solid rgba(0,217,255,.08);animation:spin 8s linear infinite;}
.unlock-ring::after{content:'';position:absolute;inset:-12px;border-radius:50%;border:1px solid rgba(0,217,255,.04);animation:spin 14s linear infinite reverse;}
@keyframes spin{to{transform:rotate(360deg);}}
.unlock-icon{font-size:44px;position:relative;z-index:1;animation:iconPulse 1.4s ease infinite;}
@keyframes iconPulse{0%,100%{transform:scale(1);}50%{transform:scale(1.12);}}
.unlock-text{position:absolute;bottom:30%;left:50%;transform:translateX(-50%);color:var(--acc);font-family:'Orbitron',sans-serif;font-size:13px;letter-spacing:.25em;text-transform:uppercase;opacity:0;transition:opacity .5s .3s;}
#unlock-overlay.show .unlock-text{opacity:.7;}

/* ‚îÄ‚îÄ‚îÄ APP ‚îÄ‚îÄ‚îÄ */
#app{position:fixed;inset:0;display:flex;flex-direction:column;opacity:0;transition:opacity .5s .2s;pointer-events:none;}
body.unlocked #app{opacity:1;pointer-events:auto;}

/* ‚îÄ‚îÄ‚îÄ NEBULA BG ‚îÄ‚îÄ‚îÄ */
#nebula-canvas{position:absolute;inset:0;z-index:0;width:100%;height:100%;}
.scanlines{position:absolute;inset:0;z-index:1;pointer-events:none;background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,217,255,.012) 3px,rgba(0,217,255,.012) 4px);transition:opacity .3s;}
body.no-scanlines .scanlines{opacity:0;}

/* ‚îÄ‚îÄ‚îÄ SCROLL ‚îÄ‚îÄ‚îÄ */
.content-area{position:relative;z-index:2;flex:1;overflow-y:auto;overflow-x:hidden;padding:24px 20px 80px;}
.content-area::-webkit-scrollbar{width:6px;}
.content-area::-webkit-scrollbar-track{background:transparent;}
.content-area::-webkit-scrollbar-thumb{background:rgba(0,217,255,.18);border-radius:3px;}

/* ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ */
.hdr{text-align:center;padding:36px 0 20px;}
.hdr-logo svg{width:56px;height:56px;fill:var(--acc);filter:drop-shadow(0 0 16px var(--glow));display:block;margin:0 auto 14px;}
.hdr-title{font-family:'Orbitron',sans-serif;font-size:clamp(32px,7vw,52px);font-weight:900;letter-spacing:.08em;text-transform:uppercase;color:var(--txt);text-shadow:0 0 24px rgba(0,217,255,.25);}
.hdr-sub{font-size:13px;color:var(--txt2);letter-spacing:.18em;text-transform:uppercase;margin-top:6px;font-family:'Share Tech Mono',monospace;}

/* ‚îÄ‚îÄ‚îÄ SEARCH ‚îÄ‚îÄ‚îÄ */
.search-wrap{max-width:520px;margin:18px auto 0;overflow:hidden;max-height:0;opacity:0;transition:max-height .35s cubic-bezier(.4,0,.2,1),opacity .3s,margin .3s;}
.search-wrap.visible{max-height:60px;opacity:1;margin-bottom:4px;}
.search-inner{background:var(--bg2);border:1px solid var(--border);border-radius:14px;display:flex;align-items:center;padding:0 6px;gap:8px;transition:border-color .25s,box-shadow .25s;}
.search-inner:focus-within{border-color:var(--border-acc);box-shadow:0 0 0 3px rgba(0,217,255,.08);}
.search-inner .si{color:var(--txt2);font-size:17px;padding:0 6px;}
.search-inner input{flex:1;background:transparent;border:none;outline:none;color:var(--txt);font-size:14px;padding:13px 0;font-family:'Share Tech',sans-serif;}
.search-inner input::placeholder{color:var(--txt2);}
.search-inner button{width:32px;height:32px;border-radius:8px;background:transparent;border:none;color:var(--txt2);cursor:pointer;font-size:15px;transition:background .2s,color .2s;display:flex;align-items:center;justify-content:center;}
.search-inner button:hover{background:rgba(255,255,255,.06);color:var(--txt);}

/* ‚îÄ‚îÄ‚îÄ STATUS ‚îÄ‚îÄ‚îÄ */
.status-bar{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px 0 16px;font-size:12px;color:var(--txt2);font-family:'Share Tech Mono',monospace;}
.status-dot{width:7px;height:7px;border-radius:50%;background:var(--acc);box-shadow:0 0 8px var(--acc);animation:blink 2.2s ease infinite;}
@keyframes blink{0%,100%{opacity:1;}50%{opacity:.4;}}

/* ‚îÄ‚îÄ‚îÄ SECTIONS ‚îÄ‚îÄ‚îÄ */
.section{display:none;animation:sectionIn .3s ease;}
.section.active{display:block;}
@keyframes sectionIn{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);}}
.sec-head{margin-bottom:20px;}
.sec-head h2{font-family:'Orbitron',sans-serif;font-size:20px;font-weight:700;color:var(--txt);letter-spacing:.05em;}
.sec-head p{font-size:13px;color:var(--txt2);margin-top:4px;}

/* ‚îÄ‚îÄ‚îÄ WIDGETS ‚îÄ‚îÄ‚îÄ */
.w-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;}
.w-grid2{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:14px;}
.widget{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:20px;position:relative;overflow:hidden;transition:border-color .25s,transform .25s,box-shadow .25s;will-change:transform;}
.widget::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 80% 20%,rgba(0,217,255,.07),transparent 55%);opacity:0;transition:opacity .25s;}
.widget:hover{border-color:var(--border-acc);transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.3);}
.widget:hover::before{opacity:1;}
.w-head{display:flex;align-items:center;gap:10px;margin-bottom:14px;}
.w-ico{width:38px;height:38px;border-radius:10px;background:rgba(0,217,255,.08);border:1px solid var(--border-acc);display:flex;align-items:center;justify-content:center;font-size:18px;}
.w-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.12em;color:var(--txt2);font-family:'Share Tech Mono',monospace;}
.w-val{font-size:clamp(28px,5vw,40px);font-weight:800;color:var(--txt);line-height:1.1;font-variant-numeric:tabular-nums;font-family:'Orbitron',sans-serif;}
.w-sub{font-size:13px;color:var(--txt2);margin-top:6px;}

/* ‚îÄ‚îÄ‚îÄ ANALOG CLOCK ‚îÄ‚îÄ‚îÄ */
.clock-face{width:96px;height:96px;margin:4px auto 0;}
.clock-face svg{width:100%;height:100%;display:block;}
.clock-ring{fill:none;stroke:var(--bg3);stroke-width:3;}
.clock-tick{stroke:var(--border);stroke-width:0.8;}
.clock-tick-main{stroke:var(--txt2);stroke-width:1.4;}
.hand-h,.hand-m,.hand-s{stroke-linecap:round;transform-origin:50px 50px;}
.hand-h{stroke:var(--txt);stroke-width:3.5;}
.hand-m{stroke:var(--acc);stroke-width:2.5;filter:drop-shadow(0 0 3px var(--glow));}
.hand-s{stroke:rgba(255,100,100,.8);stroke-width:1.2;}
.clock-center{fill:var(--acc);filter:drop-shadow(0 0 4px var(--glow));}
.clock-date{text-align:center;font-size:11px;color:var(--txt2);margin-top:6px;font-family:'Share Tech Mono',monospace;}

/* ‚îÄ‚îÄ‚îÄ PING PULSE ‚îÄ‚îÄ‚îÄ */
.ping-wrap{display:flex;align-items:center;justify-content:center;gap:20px;padding:6px 0 2px;}
.ping-anim{width:52px;height:52px;position:relative;display:flex;align-items:center;justify-content:center;}
.ping-dot{width:9px;height:9px;border-radius:50%;background:var(--acc);box-shadow:0 0 5px var(--acc);position:relative;z-index:1;}
.ping-ripple{position:absolute;inset:0;border-radius:50%;border:1.5px solid var(--acc);opacity:0;animation:pingRip 2s ease-out infinite;}
.ping-ripple:nth-child(2){animation-delay:.66s;}
.ping-ripple:nth-child(3){animation-delay:1.33s;}
@keyframes pingRip{0%{transform:scale(.28);opacity:.6;}100%{transform:scale(1);opacity:0;}}
.ping-stats{display:flex;flex-direction:column;gap:3px;}
.ping-stat{font-size:11px;color:var(--txt2);}
.ping-stat strong{color:var(--txt);font-family:'Share Tech Mono',monospace;}

/* ‚îÄ‚îÄ‚îÄ ACTIVITY FEED ‚îÄ‚îÄ‚îÄ */
.feed-list{display:flex;flex-direction:column;gap:0;max-height:130px;overflow-y:auto;}
.feed-item{display:flex;align-items:flex-start;gap:9px;padding:6px 0;border-bottom:1px solid var(--border);font-size:11px;color:var(--txt2);animation:feedIn .22s ease;}
@keyframes feedIn{from{opacity:0;transform:translateX(-6px);}to{opacity:1;transform:translateX(0);}}
.feed-item:last-child{border-bottom:none;}
.feed-ico{width:22px;height:22px;border-radius:5px;background:var(--bg3);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:10px;flex-shrink:0;margin-top:1px;}
.feed-ico.ico-open{border-color:rgba(0,217,255,.3);background:rgba(0,217,255,.08);}
.feed-ico.ico-copy{border-color:rgba(140,200,255,.3);background:rgba(140,200,255,.08);}
.feed-ico.ico-fav{border-color:rgba(255,195,40,.3);background:rgba(255,195,40,.08);}
.feed-body{flex:1;min-width:0;}
.feed-body strong{color:var(--txt);font-weight:600;}
.feed-time{font-size:9px;color:var(--txt2);opacity:.55;font-family:'Share Tech Mono',monospace;margin-top:1px;}
.feed-empty{font-size:12px;color:var(--txt2);padding:14px 0;text-align:center;font-style:italic;}

/* ‚îÄ‚îÄ‚îÄ GRAPH ‚îÄ‚îÄ‚îÄ */
.graph-wrap{margin-top:6px;}
.graph-bars{display:flex;align-items:flex-end;gap:2px;height:52px;}
.graph-bar{flex:1;min-width:0;border-radius:2px 2px 0 0;background:rgba(0,217,255,.16);transition:background .18s,height .4s ease;}
.graph-bar:hover{background:rgba(0,217,255,.45);}
.graph-bar.now{background:rgba(0,217,255,.5);box-shadow:0 0 5px rgba(0,217,255,.28);}
.graph-labels{display:flex;gap:2px;margin-top:4px;}
.graph-labels span{text-align:center;font-size:9px;color:var(--txt2);font-family:'Share Tech Mono',monospace;}

/* ‚îÄ‚îÄ‚îÄ RING ‚îÄ‚îÄ‚îÄ */
.ring-wrap{display:flex;align-items:center;justify-content:center;gap:18px;padding:4px 0;}
.ring-svg{width:84px;height:84px;}
.ring-bg{fill:none;stroke:var(--bg3);stroke-width:7;}
.ring-fill{fill:none;stroke:var(--acc);stroke-width:7;stroke-linecap:round;transition:stroke-dashoffset .5s ease;filter:drop-shadow(0 0 5px var(--glow));}
.ring-txt{text-anchor:middle;dominant-baseline:central;fill:var(--txt);font-family:'Orbitron',sans-serif;font-size:13px;font-weight:700;}
.ring-lbl{text-anchor:middle;dominant-baseline:central;fill:var(--txt2);font-family:'Share Tech Mono',monospace;font-size:7.5px;}
.ring-info{display:flex;flex-direction:column;gap:4px;}
.ring-row{display:flex;align-items:center;gap:7px;font-size:11px;color:var(--txt2);}
.ring-row .d{width:6px;height:6px;border-radius:50%;}
.d-on{background:var(--acc);box-shadow:0 0 4px var(--acc);}
.d-off{background:#444;}

/* ‚îÄ‚îÄ‚îÄ FAVS ‚îÄ‚îÄ‚îÄ */
.fav-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:4px;}
.fav-chip{background:var(--bg3);border:1px solid var(--border);border-radius:9px;padding:8px 12px;display:flex;align-items:center;gap:7px;cursor:pointer;transition:border-color .18s,background .18s,transform .12s;}
.fav-chip:hover{border-color:var(--border-acc);background:rgba(0,217,255,.06);transform:translateY(-1px);}
.fav-chip .fc-name{font-size:12px;font-weight:600;color:var(--txt);}
.fav-chip .fc-open{font-size:10px;color:var(--acc);font-family:'Share Tech Mono',monospace;opacity:.65;}
.fav-empty{font-size:12px;color:var(--txt2);padding:6px 0;font-style:italic;}

/* ‚îÄ‚îÄ‚îÄ KEYS ‚îÄ‚îÄ‚îÄ */
.keys-grid{display:grid;grid-template-columns:1fr 1fr;gap:4px 14px;margin-top:4px;}
.key-row{display:flex;justify-content:space-between;align-items:center;font-size:11px;color:var(--txt2);}
.key-row .ka{color:var(--txt);font-weight:600;}
kbd{display:inline-block;background:var(--bg3);border:1px solid var(--border);border-radius:4px;padding:2px 6px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--acc);min-width:20px;text-align:center;}

/* ‚îÄ‚îÄ‚îÄ PROXY CARDS ‚îÄ‚îÄ‚îÄ */
.p-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px;}
.p-card{background:var(--bg2);border:1px solid var(--border);border-radius:14px;padding:18px;transition:border-color .2s,transform .18s;will-change:transform;}
.p-card:hover{border-color:var(--border-acc);transform:translateY(-2px);}
.p-card.fav{border-color:rgba(255,195,40,.4);background:linear-gradient(140deg,rgba(255,195,40,.06),transparent 60%);}
.p-top{display:flex;justify-content:space-between;align-items:flex-start;gap:10px;margin-bottom:10px;}
.p-name{font-size:16px;font-weight:700;color:var(--txt);}
.p-sub{font-size:12px;color:var(--txt2);margin-top:3px;display:flex;align-items:center;gap:6px;}
.p-badge{display:inline-block;background:rgba(0,217,255,.1);border:1px solid var(--border-acc);color:var(--acc);font-size:10px;padding:1px 7px;border-radius:20px;font-family:'Share Tech Mono',monospace;}
.p-acts{display:flex;gap:6px;flex-shrink:0;}
.p-fav{width:32px;height:32px;border-radius:8px;background:transparent;border:1px solid var(--border);color:var(--txt2);font-size:16px;cursor:pointer;transition:all .18s;display:flex;align-items:center;justify-content:center;}
.p-fav:hover{background:rgba(255,195,40,.1);border-color:rgba(255,195,40,.3);color:#ffc832;}
.p-fav.on{background:rgba(255,195,40,.12);border-color:rgba(255,195,40,.4);color:#ffc832;}
.p-open{padding:7px 14px;border-radius:8px;background:rgba(0,217,255,.08);border:1px solid var(--border-acc);color:var(--acc);font-size:12px;font-weight:600;cursor:pointer;transition:background .18s;font-family:'Share Tech',sans-serif;}
.p-open:hover{background:rgba(0,217,255,.18);}

/* ‚îÄ‚îÄ‚îÄ PROXY LINKS (scrollable, unlimited) ‚îÄ‚îÄ‚îÄ */
.p-links{max-height:0;overflow:hidden;transition:max-height .4s cubic-bezier(.4,0,.2,1);}
.p-links.open{max-height:600px;}
.p-links-scroll{max-height:260px;overflow-y:auto;padding-right:2px;}
.p-links-scroll::-webkit-scrollbar{width:4px;}
.p-links-scroll::-webkit-scrollbar-track{background:transparent;}
.p-links-scroll::-webkit-scrollbar-thumb{background:rgba(0,217,255,.2);border-radius:2px;}
.p-link{background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:11px 13px;margin-top:8px;display:flex;flex-direction:column;gap:7px;position:relative;}
.p-link-info{width:100%;min-width:0;}
.p-link-title{font-size:13px;font-weight:600;color:var(--txt);}
.p-link-url{font-size:11px;color:var(--txt2);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:'Share Tech Mono',monospace;margin-top:3px;padding-top:5px;border-top:1px solid var(--border);}
.p-link-btns{display:flex;gap:6px;width:100%;}
.p-link-btn{flex:1;text-align:center;padding:6px 0;border-radius:7px;background:rgba(0,217,255,.07);border:1px solid var(--border-acc);color:var(--acc);font-size:11px;font-weight:600;cursor:pointer;transition:background .18s;font-family:'Share Tech',sans-serif;}
.p-link-btn:hover{background:rgba(0,217,255,.16);}
.p-link-del{position:absolute;top:8px;right:8px;width:22px;height:22px;border-radius:5px;background:transparent;border:none;color:var(--txt2);font-size:12px;cursor:pointer;opacity:.4;transition:opacity .18s,color .18s;display:flex;align-items:center;justify-content:center;}
.p-link-del:hover{opacity:1;color:rgba(255,80,80,.8);}
.p-add-link{display:flex;align-items:center;gap:8px;margin-top:10px;padding:8px 10px;border-radius:8px;background:rgba(0,217,255,.04);border:1px dashed var(--border-acc);cursor:pointer;transition:background .18s;}
.p-add-link:hover{background:rgba(0,217,255,.1);}
.p-add-link span{font-size:12px;color:var(--acc);font-weight:600;}
.p-add-link .al-icon{font-size:14px;color:var(--acc);opacity:.7;}
.p-add-form{margin-top:8px;display:flex;flex-direction:column;gap:6px;}
.p-add-form input{background:var(--bg3);border:1px solid var(--border);border-radius:8px;color:var(--txt);font-size:12px;padding:8px 10px;outline:none;font-family:'Share Tech Mono',monospace;transition:border-color .2s;}
.p-add-form input:focus{border-color:var(--border-acc);}
.p-add-form input::placeholder{color:var(--txt2);}
.p-add-form-btns{display:flex;gap:6px;}
.p-add-form-btn{flex:1;padding:6px 0;border-radius:7px;background:rgba(0,217,255,.08);border:1px solid var(--border-acc);color:var(--acc);font-size:11px;font-weight:600;cursor:pointer;transition:background .18s;font-family:'Share Tech',sans-serif;}
.p-add-form-btn:hover{background:rgba(0,217,255,.16);}
.p-add-form-btn.cancel{background:rgba(255,255,255,.04);border-color:var(--border);color:var(--txt2);}
.p-add-form-btn.cancel:hover{background:rgba(255,255,255,.08);color:var(--txt);}

/* ‚îÄ‚îÄ‚îÄ HUB TOOLBAR ‚îÄ‚îÄ‚îÄ */
.hub-toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-bottom:16px;}
.hub-btn{padding:7px 14px;border-radius:8px;background:rgba(0,217,255,.08);border:1px solid var(--border-acc);color:var(--acc);font-size:12px;font-weight:600;cursor:pointer;transition:background .18s,border-color .18s;font-family:'Share Tech',sans-serif;}
.hub-btn:hover{background:rgba(0,217,255,.18);}
.hub-btn.act{background:rgba(255,195,40,.12);border-color:rgba(255,195,40,.4);color:#ffc832;}
.hub-btn.act:hover{background:rgba(255,195,40,.2);}
.hub-count{margin-left:auto;font-size:12px;color:var(--txt2);font-family:'Share Tech Mono',monospace;}

/* ‚îÄ‚îÄ‚îÄ TOOLS ‚îÄ‚îÄ‚îÄ */
.tool-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;}
.tool-card{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:22px;transition:border-color .2s;}
.tool-card:hover{border-color:var(--border-acc);}
.tool-display{font-family:'Share Tech Mono',monospace;font-size:clamp(26px,4.5vw,36px);color:var(--acc);margin:12px 0;letter-spacing:.05em;}
.tool-btns{display:flex;gap:8px;margin-top:14px;}
.tool-btn{flex:1;padding:9px 0;border-radius:9px;background:rgba(0,217,255,.08);border:1px solid var(--border-acc);color:var(--acc);font-size:13px;font-weight:600;cursor:pointer;transition:background .18s,transform .12s;font-family:'Share Tech',sans-serif;}
.tool-btn:hover{background:rgba(0,217,255,.18);transform:translateY(-1px);}
.tool-btn.sec{background:rgba(255,255,255,.04);border-color:var(--border);color:var(--txt2);}
.tool-btn.sec:hover{background:rgba(255,255,255,.08);color:var(--txt);}
.notes-ta{width:100%;min-height:160px;background:var(--bg3);border:1px solid var(--border);border-radius:10px;color:var(--txt);font-family:'Share Tech',sans-serif;font-size:14px;padding:14px;resize:vertical;outline:none;transition:border-color .2s;}
.notes-ta:focus{border-color:var(--border-acc);}
.notes-ta::placeholder{color:var(--txt2);}
.enc-input,.enc-output{width:100%;background:var(--bg3);border:1px solid var(--border);border-radius:10px;color:var(--txt);font-family:'Share Tech Mono',monospace;font-size:12px;padding:11px 13px;outline:none;transition:border-color .2s;resize:none;}
.enc-input:focus,.enc-output:focus{border-color:var(--border-acc);}
.enc-input::placeholder,.enc-output::placeholder{color:var(--txt2);}
.enc-output{min-height:70px;color:var(--acc);background:rgba(0,217,255,.04);}
.enc-btns{display:flex;gap:6px;margin:10px 0;}
.clip-list{display:flex;flex-direction:column;gap:6px;max-height:200px;overflow-y:auto;}
.clip-item{background:var(--bg3);border:1px solid var(--border);border-radius:9px;padding:10px 12px;display:flex;justify-content:space-between;align-items:center;gap:10px;font-size:13px;color:var(--txt2);font-family:'Share Tech Mono',monospace;transition:border-color .18s;}
.clip-item:hover{border-color:var(--border-acc);}
.clip-item span{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.clip-paste{padding:4px 10px;border-radius:6px;background:rgba(0,217,255,.08);border:1px solid var(--border-acc);color:var(--acc);font-size:11px;cursor:pointer;transition:background .18s;font-family:'Share Tech',sans-serif;}
.clip-paste:hover{background:rgba(0,217,255,.18);}

/* ‚îÄ‚îÄ‚îÄ GAME PICKER ‚îÄ‚îÄ‚îÄ */
.game-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px;}
.game-tile{background:var(--bg2);border:1px solid var(--border);border-radius:14px;padding:22px 14px 16px;display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;transition:border-color .18s,transform .15s,box-shadow .18s;text-decoration:none;will-change:transform;position:relative;overflow:hidden;}
.game-tile::before{content:'';position:absolute;inset:0;opacity:0;transition:opacity .3s;}
.game-tile:hover{border-color:var(--border-acc);transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,0,0,.4);}
.game-tile:hover::before{opacity:1;}
.game-tile[data-cat="horror"]::before{background:radial-gradient(circle at 50% 0%,rgba(180,60,60,.12),transparent 70%);}
.game-tile[data-cat="adventure"]::before{background:radial-gradient(circle at 50% 0%,rgba(60,140,180,.12),transparent 70%);}
.game-tile[data-cat="sports"]::before{background:radial-gradient(circle at 50% 0%,rgba(60,180,100,.12),transparent 70%);}
.game-tile[data-cat="action"]::before{background:radial-gradient(circle at 50% 0%,rgba(180,140,60,.12),transparent 70%);}
.game-tile .gt-icon{font-size:34px;line-height:1;position:relative;z-index:1;}
.game-tile .gt-name{font-size:12px;font-weight:600;color:var(--txt);text-align:center;font-family:'Share Tech',sans-serif;line-height:1.3;position:relative;z-index:1;}
.game-tile .gt-tag{font-size:9px;color:var(--txt2);font-family:'Share Tech Mono',monospace;text-transform:uppercase;letter-spacing:.06em;position:relative;z-index:1;padding:2px 8px;border-radius:10px;background:rgba(255,255,255,.05);border:1px solid var(--border);}

/* ‚îÄ‚îÄ‚îÄ GAME MODAL ‚îÄ‚îÄ‚îÄ */
.gm-bg{position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:90;opacity:0;pointer-events:none;transition:opacity .22s;}
.gm-bg.show{opacity:1;pointer-events:auto;}
.gm-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-52%);z-index:91;width:92%;max-width:900px;background:var(--bg2);border:1px solid var(--border-acc);border-radius:18px;overflow:hidden;box-shadow:0 24px 60px rgba(0,0,0,.7);transition:transform .28s cubic-bezier(.4,0,.2,1),opacity .22s;opacity:0;pointer-events:none;}
.gm-modal.show{transform:translate(-50%,-50%);opacity:1;pointer-events:auto;}
.gm-head{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border-bottom:1px solid var(--border);}
.gm-head h3{font-family:'Orbitron',sans-serif;font-size:15px;font-weight:700;color:var(--txt);letter-spacing:.04em;}
.gm-head-btns{display:flex;gap:6px;}
.gm-btn{width:32px;height:32px;border-radius:8px;background:transparent;border:1px solid var(--border);color:var(--txt2);cursor:pointer;font-size:15px;transition:background .18s,color .18s;display:flex;align-items:center;justify-content:center;}
.gm-btn:hover{background:rgba(255,255,255,.06);color:var(--txt);}
.gm-frame-wrap{position:relative;width:100%;aspect-ratio:16/9;background:#000;}
.gm-frame-wrap iframe{width:100%;height:100%;border:none;display:block;}
.gm-loading{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;background:#000;z-index:2;transition:opacity .35s,visibility .35s;}
.gm-loading.hide{opacity:0;visibility:hidden;}
.gm-loading .gl-icon{font-size:36px;animation:glPulse .9s ease infinite;}
@keyframes glPulse{0%,100%{transform:scale(1);opacity:.7;}50%{transform:scale(1.1);opacity:1;}}
.gm-loading .gl-text{font-family:'Orbitron',sans-serif;font-size:12px;color:var(--acc);letter-spacing:.15em;text-transform:uppercase;}
.gm-loading .gl-sub{font-size:10px;color:var(--txt2);font-family:'Share Tech Mono',monospace;}

/* ‚îÄ‚îÄ‚îÄ UPDATES ‚îÄ‚îÄ‚îÄ */
.update-item{border-left:3px solid var(--acc);padding:0 0 0 18px;margin-bottom:22px;position:relative;}
.update-item::before{content:'';width:10px;height:10px;border-radius:50%;background:var(--acc);position:absolute;left:-6px;top:4px;box-shadow:0 0 8px var(--glow);}
.update-date{font-family:'Orbitron',sans-serif;font-size:13px;color:var(--acc);letter-spacing:.08em;margin-bottom:6px;}
.update-text{color:var(--txt);font-size:14px;line-height:1.6;}
.update-tag{display:inline-block;background:rgba(0,217,255,.1);border:1px solid var(--border-acc);color:var(--acc);font-size:10px;padding:2px 8px;border-radius:20px;margin-top:8px;font-family:'Share Tech Mono',monospace;letter-spacing:.05em;}

/* ‚îÄ‚îÄ‚îÄ BOTTOM BAR ‚îÄ‚îÄ‚îÄ */
.bar-wrap{position:fixed;bottom:0;left:0;right:0;z-index:50;height:var(--bar-h);display:flex;align-items:flex-end;justify-content:center;pointer-events:none;transition:transform .3s cubic-bezier(.4,0,.2,1);}
.bar-wrap.hidden{transform:translateY(100%);}
.bar{background:rgba(14,16,24,.82);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border-top:1px solid var(--border);border-radius:18px 18px 0 0;padding:10px 14px 8px;display:flex;gap:6px;align-items:center;pointer-events:auto;opacity:0;transition:opacity .3s;}
body.unlocked .bar{opacity:1;}
.bar-zone{position:fixed;bottom:0;left:0;right:0;height:4px;z-index:51;pointer-events:auto;}
.bar-zone:hover~.bar-wrap{transform:translateY(0)!important;}
.bar-item{width:50px;height:50px;border-radius:12px;background:transparent;border:none;color:var(--txt2);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:20px;transition:background .18s,color .18s,transform .18s;position:relative;}
.bar-item:hover{background:rgba(255,255,255,.07);color:var(--txt);transform:translateY(-2px);}
.bar-item.active{background:var(--acc);color:var(--bg);box-shadow:0 3px 10px var(--glow);}
.bar-item .tip{position:absolute;bottom:calc(100% + 6px);left:50%;transform:translateX(-50%);background:rgba(14,16,24,.9);border:1px solid var(--border);color:var(--txt);font-size:11px;padding:4px 10px;border-radius:6px;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .18s;font-family:'Share Tech Mono',monospace;}
.bar-item:hover .tip{opacity:1;}
.bar-item svg{width:22px;height:22px;}
.bar-sep{width:1px;height:28px;background:var(--border);margin:0 4px;}

/* ‚îÄ‚îÄ‚îÄ FAB ‚îÄ‚îÄ‚îÄ */
.fab{position:fixed;bottom:78px;right:18px;width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#5a6fd6,#8b5cf6);border:none;color:#fff;font-size:22px;cursor:pointer;box-shadow:0 4px 18px rgba(90,111,214,.4);transition:transform .3s cubic-bezier(.4,0,.2,1),box-shadow .2s;z-index:60;display:flex;align-items:center;justify-content:center;}
.fab:hover{transform:translateY(-2px) scale(1.04);box-shadow:0 6px 22px rgba(90,111,214,.5);}
.bar-wrap.hidden~.fab{transform:translateY(64px);}
.bar-wrap.hidden~.fab:hover{transform:translateY(61px) scale(1.04);}
.qmenu{position:fixed;bottom:134px;right:18px;z-index:59;display:flex;flex-direction:column;gap:8px;transform:translateY(10px);opacity:0;pointer-events:none;transition:transform .22s cubic-bezier(.4,0,.2,1),opacity .18s;}
.qmenu.show{transform:translateY(0);opacity:1;pointer-events:auto;}
.bar-wrap.hidden~.qmenu.show{transform:translateY(64px);}
.qm-item{background:rgba(14,16,24,.92);backdrop-filter:blur(16px);border:1px solid var(--border);border-radius:12px;padding:11px 18px;color:var(--txt);font-size:13px;font-weight:600;cursor:pointer;transition:background .18s,border-color .18s,transform .12s;display:flex;align-items:center;gap:9px;white-space:nowrap;font-family:'Share Tech',sans-serif;}
.qm-item:hover{background:rgba(0,217,255,.1);border-color:var(--border-acc);transform:translateX(-2px);}

/* ‚îÄ‚îÄ‚îÄ SETTINGS MODAL ‚îÄ‚îÄ‚îÄ */
.modal-bg{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:80;opacity:0;pointer-events:none;transition:opacity .22s;}
.modal-bg.show{opacity:1;pointer-events:auto;}
.modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-52%);z-index:81;width:90%;max-width:480px;max-height:85vh;overflow-y:auto;background:var(--bg2);border:1px solid var(--border-acc);border-radius:20px;padding:26px;box-shadow:0 20px 60px rgba(0,0,0,.6);transition:transform .28s cubic-bezier(.4,0,.2,1),opacity .22s;opacity:0;pointer-events:none;}
.modal.show{transform:translate(-50%,-50%);opacity:1;pointer-events:auto;}
.modal::-webkit-scrollbar{width:5px;}
.modal::-webkit-scrollbar-track{background:transparent;}
.modal::-webkit-scrollbar-thumb{background:rgba(0,217,255,.18);border-radius:3px;}
.modal-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:22px;padding-bottom:14px;border-bottom:1px solid var(--border);}
.modal-head h3{font-family:'Orbitron',sans-serif;font-size:17px;font-weight:700;color:var(--txt);letter-spacing:.05em;}
.modal-close{width:32px;height:32px;border-radius:8px;background:transparent;border:1px solid var(--border);color:var(--txt2);cursor:pointer;font-size:16px;transition:background .18s,color .18s;display:flex;align-items:center;justify-content:center;}
.modal-close:hover{background:rgba(255,255,255,.06);color:var(--txt);}
.modal-section-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.15em;color:var(--txt2);font-family:'Share Tech Mono',monospace;margin:18px 0 10px;padding-bottom:6px;border-bottom:1px solid var(--border);}
.modal-row{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--border);}
.modal-row:last-child{border-bottom:none;}
.modal-row label{font-size:14px;color:var(--txt);font-weight:600;}
.modal-row .sub{font-size:11px;color:var(--txt2);margin-top:2px;}
.toggle{width:44px;height:24px;background:var(--bg3);border-radius:12px;border:1px solid var(--border);position:relative;cursor:pointer;transition:background .22s,border-color .22s;}
.toggle.on{background:var(--acc);border-color:var(--acc);}
.toggle::after{content:'';position:absolute;width:18px;height:18px;background:#fff;border-radius:50%;top:2px;left:2px;transition:left .22s;box-shadow:0 1px 3px rgba(0,0,0,.3);}
.toggle.on::after{left:22px;}

/* Theme presets row */
.theme-presets{display:flex;gap:8px;flex-wrap:wrap;}
.theme-btn{width:34px;height:34px;border-radius:50%;border:2px solid var(--border);cursor:pointer;transition:transform .15s,border-color .2s;position:relative;}
.theme-btn:hover{transform:scale(1.12);}
.theme-btn.active{border-color:var(--acc);box-shadow:0 0 8px var(--glow);}
.theme-btn .tb-swatch{width:100%;height:100%;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;}

/* Speed slider */.speed-row{display:flex;align-items:center;gap:10px;}
.speed-slider{flex:1;-webkit-appearance:none;appearance:none;height:4px;background:var(--bg3);border-radius:2px;outline:none;}
.speed-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;background:var(--acc);border-radius:50%;cursor:pointer;box-shadow:0 0 6px var(--glow);}
.speed-label{font-size:11px;color:var(--txt2);font-family:'Share Tech Mono',monospace;min-width:28px;text-align:center;}

#accent-pick{width:42px;height:32px;border:1px solid var(--border);border-radius:8px;background:transparent;cursor:pointer;padding:2px;}

/* ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ */
.toast{position:fixed;top:18px;right:18px;z-index:200;background:rgba(14,16,24,.94);backdrop-filter:blur(16px);border:1px solid var(--border-acc);border-radius:12px;padding:13px 18px;min-width:240px;box-shadow:0 6px 24px rgba(0,0,0,.5);transform:translateX(340px);transition:transform .28s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:10px;font-size:13px;font-weight:600;color:var(--txt);}
.toast.show{transform:translateX(0);}
.toast.ok{border-color:rgba(0,220,140,.4);}.toast.ok .t-icon{color:#00dc8c;}
.toast.err{border-color:rgba(255,80,80,.4);}.toast.err .t-icon{color:#ff5050;}
.t-icon{font-size:16px;}

/* ‚îÄ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ‚îÄ */
body.cursor-on,body.cursor-on *{cursor:none!important;}
body.cursor-on input,body.cursor-on textarea,body.cursor-on select{cursor:text!important;}
#cursor{position:fixed;left:0;top:0;width:18px;height:18px;pointer-events:none;z-index:999999;transform:translate(-50%,-50%);mix-blend-mode:screen;display:none;}
body.unlocked.cursor-on #cursor{display:block;}
#cursor .c-dot{width:5px;height:5px;border-radius:50%;background:var(--acc);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 0 6px var(--acc);}
#cursor .c-ring{width:18px;height:18px;border-radius:50%;border:1.5px solid rgba(0,217,255,.45);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:transform .12s,opacity .12s;}
#cursor.click .c-ring{transform:translate(-50%,-50%) scale(.6);}
#cursor.hover .c-ring{transform:translate(-50%,-50%) scale(1.5);opacity:.65;}

/* ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ */
@media(max-width:600px){
  .w-grid,.tool-grid{grid-template-columns:1fr;}
  .w-grid2{grid-template-columns:1fr;}
  .p-grid{grid-template-columns:1fr;}
  .bar-item{width:44px;height:44px;font-size:18px;}
  .edu-hero{grid-template-columns:1fr;}
  .edu-grid{grid-template-columns:1fr;}
  .edu-header{flex-direction:column;align-items:flex-start;}
  .edu-nav{width:100%;justify-content:flex-start;}
  .keys-grid{grid-template-columns:1fr;}
  .game-grid{grid-template-columns:repeat(auto-fill,minmax(130px,1fr));}
}
</style>
</head>
<body>

<!-- DISGUISE -->
<div id="disguise">
  <div class="edu-wrap">
    <div class="edu-topbar">
      <span>District Portal ‚Ä¢ Week of March 18</span>
      <span><a href="#">Parent Portal</a>‚Ä¢<a href="#">Attendance</a>‚Ä¢<a href="#">Help Desk</a></span>
    </div>
    <div class="edu-header">
      <div class="edu-logo">HS</div>
      <div class="edu-brand">
        <h1>Hillside Secondary School</h1>
        <p>Student Learning Portal ‚Ä¢ Powered by Hillside ISD</p>
      </div>
      <nav class="edu-nav">
        <a href="#">Dashboard</a>
        <a href="#">Classes</a>
        <a href="#">Assignments</a>
        <a href="#">Library</a>
        <a href="#">Counseling</a>
      </nav>
    </div>
    <section class="edu-hero">
      <div>
        <h2>Welcome back, Scholars!</h2>
        <p>Check today‚Äôs announcements, view your schedule, and access classroom tools. Stay on track with upcoming deadlines and progress checkpoints.</p>
        <div class="hero-meta">
          <span>üîî 3 New Announcements</span>
          <span>üìö 5 Classes Today</span>
          <span>üóìÔ∏è 2 Assignments Due</span>
        </div>
      </div>
      <div class="edu-card" style="margin:0;">
        <h3>Quick Launch</h3>
        <p>Open your study session or access the learning workspace.</p>
        <div id="secret-trigger"><h4>‚ñ∂ Begin Session</h4><p>Click to initialize your workspace</p><div class="edu-dots"><span></span><span></span><span></span></div></div>
      </div>
    </section>
    <div class="edu-grid">
      <div class="edu-card">
        <h3>Announcements</h3>
        <div class="edu-list">
          <div class="edu-list-item"><strong>Science Fair</strong><span>Project outlines due Friday.</span></div>
          <div class="edu-list-item"><strong>Spring Assembly</strong><span>Auditorium ‚Ä¢ 1:30 PM.</span></div>
          <div class="edu-list-item"><strong>Library Hours</strong><span>Open until 6:00 PM.</span></div>
        </div>
        <h3 style="margin-top:18px;">Upcoming Schedule</h3>
        <table class="edu-table">
          <thead>
            <tr><th>Period</th><th>Course</th><th>Room</th><th>Time</th></tr>
          </thead>
          <tbody>
            <tr><td>1</td><td>AP Biology</td><td>Lab 204</td><td>8:10 AM</td></tr>
            <tr><td>2</td><td>World History</td><td>Room 112</td><td>9:25 AM</td></tr>
            <tr><td>3</td><td>Algebra II</td><td>Room 310</td><td>10:45 AM</td></tr>
          </tbody>
        </table>
      </div>
      <aside>
        <div class="edu-card">
          <h3>Quick Links</h3>
          <div class="edu-links">
            <a href="#"><span>Classroom Pages</span><span>‚Ä∫</span></a>
            <a href="#"><span>Submit Assignment</span><span>‚Ä∫</span></a>
            <a href="#"><span>Lunch Menu</span><span>‚Ä∫</span></a>
            <a href="#"><span>Tech Support</span><span>‚Ä∫</span></a>
          </div>
        </div>
        <div class="edu-card" style="margin-top:16px;">
          <h3>Study Reminder</h3>
          <p>Set aside 20 minutes for independent reading. Check your planner for upcoming assessments.</p>
        </div>
      </aside>
    </div>
  </div>
</div>

<!-- UNLOCK OVERLAY -->
<div id="unlock-overlay"><div class="unlock-ring"><div class="unlock-icon">‚óà</div></div><div class="unlock-text">Initializing...</div></div>

<!-- APP -->
<div id="app">
  <canvas id="nebula-canvas"></canvas>
  <div class="scanlines"></div>
  <div class="content-area" id="scrollArea">
    <header class="hdr">
      <div class="hdr-logo"><svg viewBox="0 0 100 100"><path d="M50 12 L92 88 L8 88 Z"/><path d="M33 56 L62 88 L8 88 Z" opacity="0.5"/></svg></div>
      <h1 class="hdr-title">PEAK</h1>
      <p class="hdr-sub">UBG ¬∑ Enhanced Edition v2.5</p>
    </header>
    <div class="search-wrap" id="searchWrap"><div class="search-inner"><span class="si">üîç</span><input type="text" id="searchInput" placeholder="filter proxies..."><button id="searchClear">‚úï</button></div></div>
    <div class="status-bar"><span class="status-dot"></span><span id="statusText">12 endpoints online</span></div>

    <!-- ‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê -->
    <section class="section active" id="sec-dash">
      <div class="w-grid">
        <div class="widget">
          <div class="w-head"><div class="w-ico">üïê</div><div class="w-label">Time</div></div>
          <div class="clock-face">
            <svg viewBox="0 0 100 100">
              <circle class="clock-ring" cx="50" cy="50" r="46"/>
              <g id="clockTicks"></g>
              <line class="hand-h" id="handH" x1="50" y1="50" x2="50" y2="24"/>
              <line class="hand-m" id="handM" x1="50" y1="50" x2="50" y2="18"/>
              <line class="hand-s" id="handS" x1="50" y1="50" x2="50" y2="14"/>
              <circle class="clock-center" cx="50" cy="50" r="3.2"/>
            </svg>
          </div>
          <div class="clock-date" id="clockDate">‚Äî</div>
        </div>
        <div class="widget"><div class="w-head"><div class="w-ico">üîã</div><div class="w-label">Battery</div></div><div class="w-val" id="batVal">--%</div><div class="w-sub" id="batSub">Checking‚Ä¶</div></div>
        <div class="widget"><div class="w-head"><div class="w-ico">üì°</div><div class="w-label">System</div></div><div class="w-val" id="sysVal" style="font-size:22px;">Online</div><div class="w-sub">All services operational</div></div>
        <div class="widget"><div class="w-head"><div class="w-ico">üåê</div><div class="w-label">Proxies</div></div><div class="w-val" id="proxyCount">12</div><div class="w-sub">Active endpoints</div></div>
      </div>
      <div class="w-grid2">
        <div class="widget">
          <div class="w-head"><div class="w-ico">üì°</div><div class="w-label">Network Ping</div></div>
          <div class="ping-wrap">
            <div class="ping-anim">
              <div class="ping-ripple"></div><div class="ping-ripple"></div><div class="ping-ripple"></div>
              <div class="ping-dot"></div>
            </div>
            <div class="ping-stats">
              <div class="ping-stat">Latency <strong id="pingMs">24ms</strong></div>
              <div class="ping-stat">Status <strong style="color:var(--acc);">Active</strong></div>
              <div class="ping-stat">Uptime <strong>99.8%</strong></div>
            </div>
          </div>
        </div>
        <div class="widget">
          <div class="w-head"><div class="w-ico">üìà</div><div class="w-label">Activity ¬∑ 24h</div></div>
          <div class="graph-wrap"><div class="graph-bars" id="graphBars"></div><div class="graph-labels" id="graphLabels"></div></div>
        </div>
      </div>
      <div class="w-grid2">
        <div class="widget">
          <div class="w-head"><div class="w-ico">üìä</div><div class="w-label">Proxy Status</div></div>
          <div class="ring-wrap">
            <svg class="ring-svg" viewBox="0 0 88 88">
              <circle class="ring-bg" cx="44" cy="44" r="34"/>
              <circle class="ring-fill" id="ringFill" cx="44" cy="44" r="34" stroke-dasharray="213.6" stroke-dashoffset="0" transform="rotate(-90 44 44)"/>
              <text class="ring-txt" x="44" y="41" id="ringPct">100%</text>
              <text class="ring-lbl" x="44" y="53">online</text>
            </svg>
            <div class="ring-info">
              <div class="ring-row"><span class="d d-on"></span><span id="ringOn">12 online</span></div>
              <div class="ring-row"><span class="d d-off"></span><span id="ringOff">0 offline</span></div>
            </div>
          </div>
        </div>
        <div class="widget">
          <div class="w-head"><div class="w-ico">üì∞</div><div class="w-label">Recent Activity</div></div>
          <div class="feed-list" id="feedList"><div class="feed-empty">No activity yet ‚Äî open or copy a proxy link</div></div>
        </div>
      </div>
      <div class="w-grid2">
        <div class="widget">
          <div class="w-head"><div class="w-ico">‚≠ê</div><div class="w-label">Favorites</div></div>
          <div class="fav-row" id="favRow"><div class="fav-empty">No favorites yet ‚Äî star a proxy to pin it here</div></div>
        </div>
        <div class="widget">
          <div class="w-head"><div class="w-ico">‚å®Ô∏è</div><div class="w-label">Shortcuts</div></div>
          <div class="keys-grid">
            <div class="key-row"><span class="ka">Dashboard</span><kbd>1</kbd></div>
            <div class="key-row"><span class="ka">Proxy Hub</span><kbd>2</kbd></div>
            <div class="key-row"><span class="ka">Tools</span><kbd>3</kbd></div>
            <div class="key-row"><span class="ka">Game</span><kbd>4</kbd></div>
            <div class="key-row"><span class="ka">Updates</span><kbd>5</kbd></div>
            <div class="key-row"><span class="ka">Settings</span><kbd>,</kbd></div>
            <div class="key-row"><span class="ka">Close</span><kbd>Esc</kbd></div>
            <div class="key-row"><span class="ka">Unlock</span><kbd>‚åò‚áßL</kbd></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê PROXY HUB ‚ïê‚ïê‚ïê -->
    <section class="section" id="sec-hub">
      <div class="sec-head"><h2>Proxy Hub</h2><p>Manage and access all proxy endpoints</p></div>
      <div class="hub-toolbar">
        <button class="hub-btn act" id="hubAll">All</button>
        <button class="hub-btn" id="hubFavs">‚≠ê Favorites</button>
        <button class="hub-btn" id="hubOpenAll">Open All</button>
        <span class="hub-count" id="hubCount">12 proxies</span>
      </div>
      <div class="p-grid" id="proxyGrid"></div>
    </section>

    <!-- ‚ïê‚ïê‚ïê TOOLS ‚ïê‚ïê‚ïê -->
    <section class="section" id="sec-tools">
      <div class="sec-head"><h2>Tools</h2><p>Productivity utilities</p></div>
      <div class="tool-grid">
        <div class="tool-card">
          <div class="w-head"><div class="w-ico">‚è±Ô∏è</div><div class="w-label">Timer</div></div>
          <div class="tool-display" id="timerDisp">05:00</div>
          <div style="display:flex;gap:6px;margin-bottom:10px;"><select id="timerPreset" style="flex:1;background:var(--bg3);border:1px solid var(--border);border-radius:8px;color:var(--txt);font-size:12px;padding:6px 8px;outline:none;font-family:'Share Tech',sans-serif;"><option value="60">1 min</option><option value="120">2 min</option><option value="180">3 min</option><option value="300" selected>5 min</option><option value="600">10 min</option><option value="900">15 min</option><option value="1800">30 min</option><option value="3600">1 hr</option></select></div>
          <div class="tool-btns"><button class="tool-btn" id="timerStart">Start</button><button class="tool-btn sec" id="timerReset">Reset</button></div>
        </div>
        <div class="tool-card">
          <div class="w-head"><div class="w-ico">‚è≤Ô∏è</div><div class="w-label">Stopwatch</div></div>
          <div class="tool-display" id="swDisp">00:00.00</div>
          <div class="tool-btns"><button class="tool-btn" id="swStart">Start</button><button class="tool-btn sec" id="swLap">Lap</button><button class="tool-btn sec" id="swReset">Reset</button></div>
          <div id="lapList" style="margin-top:12px;max-height:90px;overflow-y:auto;display:flex;flex-direction:column;gap:4px;"></div>
        </div>
        <div class="tool-card" style="grid-column:span 2;">
          <div class="w-head"><div class="w-ico">üîó</div><div class="w-label">URL Encoder / Decoder</div></div>
          <textarea class="enc-input" id="encInput" placeholder="Paste text or URL to encode‚Ä¶" rows="2"></textarea>
          <div class="enc-btns">
            <button class="tool-btn" id="encEncode">Encode</button>
            <button class="tool-btn sec" id="encDecode">Decode</button>
            <button class="tool-btn sec" id="encCopy">Copy</button>
            <button class="tool-btn sec" id="encClear">Clear</button>
          </div>
          <textarea class="enc-output" id="encOutput" placeholder="Result appears here‚Ä¶" rows="2" readonly></textarea>
        </div>
        <div class="tool-card" style="grid-column:span 2;">
          <div class="w-head"><div class="w-ico">üìù</div><div class="w-label">Quick Notes</div></div>
          <textarea class="notes-ta" id="notesTA" placeholder="Jot something down‚Ä¶"></textarea>
          <div class="tool-btns" style="margin-top:10px;"><button class="tool-btn" id="notesCopy">Copy</button><button class="tool-btn sec" id="notesClear">Clear</button></div>
        </div>
        <div class="tool-card">
          <div class="w-head"><div class="w-ico">üìã</div><div class="w-label">Clipboard History</div></div>
          <div class="clip-list" id="clipList"><div style="color:var(--txt2);font-size:12px;padding:6px 0;">No copied items yet‚Ä¶</div></div>
        </div>
      </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê GAME ‚ïê‚ïê‚ïê -->
    <section class="section" id="sec-game">
      <div class="sec-head"><h2>Game Room</h2><p>Pick a game to play</p></div>
      <div class="search-wrap" id="gameSearchWrap"><div class="search-inner"><span class="si">üîç</span><input type="text" id="gameSearchInput" placeholder="filter games..."><button id="gameSearchClear">‚úï</button></div></div>
      <div class="game-grid" id="gameGrid"></div>
    </section>

    <!-- Game Modal Player -->
    <div class="gm-bg" id="gmBg"></div>
    <div class="gm-modal" id="gmModal">
      <div class="gm-head">
        <h3 id="gmTitle">Game</h3>
        <div class="gm-head-btns">
          <button class="gm-btn" id="gmReload" title="Reload">‚Üª</button>
          <button class="gm-btn" id="gmFullscreen" title="Fullscreen">‚õ∂</button>
          <button class="gm-btn" id="gmClose" title="Close">‚úï</button>
        </div>
      </div>
      <div class="gm-frame-wrap">
        <div class="gm-loading" id="gmLoading">
          <div class="gl-icon" id="gmLoadIcon">üéÆ</div>
          <div class="gl-text">Loading‚Ä¶</div>
          <div class="gl-sub" id="gmLoadSub"></div>
        </div>
        <iframe id="gmIframe" src="" allow="autoplay"></iframe>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê UPDATES ‚ïê‚ïê‚ïê -->
    <section class="section" id="sec-updates">
      <div class="sec-head"><h2>Updates</h2><p>Latest changes & release notes</p></div>
      <div class="update-item"><div class="update-date">February 2026</div><div class="update-text">Added 4 new games: Car Survival 3D, Build a Plane, Basket Random, and Baldi's Basics Plus. Proxy links are now fully scrollable and support unlimited entries with inline add/remove. Background replaced with a layered animated nebula. Settings panel expanded with theme presets, scanlines, animation speed, auto-hide bar, and more.</div><span class="update-tag">v2.5 ‚Äî MAJOR</span></div>
      <div class="update-item"><div class="update-date">January 2026</div><div class="update-text">Added Game Room with FNAF Sister Location. All animations optimized ‚Äî hover lifts reduced, transitions tightened, will-change hints on cards/widgets, feed items slide in. Ping ripples and graph bars use smoother easing.</div><span class="update-tag">v2.4 ‚Äî MAJOR</span></div>
      <div class="update-item"><div class="update-date">January 2026</div><div class="update-text">Added live analog clock, network ping pulse widget, real-time activity feed, URL encoder/decoder tool, and link-count badges on every proxy card.</div><span class="update-tag">v2.3 ‚Äî MAJOR</span></div>
      <div class="update-item"><div class="update-date">January 2026</div><div class="update-text">Dashboard expanded with proxy status ring, 24h activity graph, pinned favorites quick-launch, and keyboard shortcut cheatsheet. Proxy Hub Favorites filter and Open All button added.</div><span class="update-tag">v2.2 ‚Äî MAJOR</span></div>
      <div class="update-item"><div class="update-date">January 2026</div><div class="update-text">Redesigned bottom nav with slide-up reveal. Contextual search on Proxy Hub only. Added Quick Notes, Clipboard History, Lap support.</div><span class="update-tag">v2.1 ‚Äî MAJOR</span></div>
      <div class="update-item"><div class="update-date">December 2025</div><div class="update-text">Initial OS-style interface launch. Starfield, widget dashboard, proxy cards with favorites, timer & stopwatch, educational disguise.</div><span class="update-tag">v2.0 ‚Äî LAUNCH</span></div>
    </section>
  </div>

  <!-- BOTTOM BAR -->
  <div class="bar-zone"></div>
  <div class="bar-wrap" id="barWrap">
    <nav class="bar">
      <button class="bar-item active" data-sec="dash"><span class="tip">Dashboard</span><svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg></button>
      <button class="bar-item" data-sec="hub"><span class="tip">Proxy Hub</span><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l2.09 6.26L20 9.27l-4.7 3.63L16.82 19 12 15.77 7.18 19l1.52-6.1L4 9.27l5.91-1L12 2z"/></svg></button>
      <div class="bar-sep"></div>
      <button class="bar-item" data-sec="tools"><span class="tip">Tools</span><svg viewBox="0 0 24 24" fill="currentColor"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg></button>
      <button class="bar-item" data-sec="game"><span class="tip">Game</span><svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10.5 3.5v3H7.5v-3h3zm-5.5 5c-.83 0-1.5-.67-1.5-1.5S4.17 11.5 5 11.5 6.5 12.17 6.5 13 5.83 14 5 14zm5.5 3.5h-3v-3h3v3zm5.5-5c-.83 0-1.5-.67-1.5-1.5S15.17 9.5 16 9.5s1.5.67 1.5 1.5S16.83 12.5 16 12.5zm2 1.5c-.83 0-1.5-.67-1.5-1.5S17.17 11 18 11s1.5.67 1.5 1.5S18.83 14 18 14z"/></svg></button>
      <button class="bar-item" data-sec="updates"><span class="tip">Updates</span><svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"/></svg></button>
      <div class="bar-sep"></div>
      <button class="bar-item" id="settingsBtn"><span class="tip">Settings</span><svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg></button>
    </nav>
  </div>

  <button class="fab" id="fab">‚ö°</button>
  <div class="qmenu" id="qmenu">
    <div class="qm-item" data-act="fullscreen">üñ•Ô∏è Fullscreen</div>
    <div class="qm-item" data-act="panic">üö® Panic Mode</div>
  </div>

  <!-- SETTINGS MODAL -->
  <div class="modal-bg" id="modalBg"></div>
  <div class="modal" id="modal">
    <div class="modal-head"><h3>Settings</h3><button class="modal-close" id="modalClose">‚úï</button></div>

    <div class="modal-section-label">Appearance</div>
    <div class="modal-row"><div><label>Custom Cursor</label><div class="sub">Stylized neon pointer</div></div><div class="toggle on" id="cursorToggle"></div></div>
    <div class="modal-row"><div><label>Scanlines</label><div class="sub">CRT overlay effect</div></div><div class="toggle on" id="scanlinesToggle"></div></div>
    <div class="modal-row"><div><label>Accent Color</label><div class="sub">Theme highlight color</div></div><input type="color" id="accent-pick" value="#00d9ff"></div>
    <div class="modal-row"><div><label>Theme Presets</label><div class="sub">Quick color schemes</div></div>
      <div class="theme-presets">
        <div class="theme-btn active" data-color="#00d9ff" title="Cyan"><div class="tb-swatch" style="background:linear-gradient(135deg,#08090f,#0e1018);border:2px solid #00d9ff;border-radius:50%;">üîµ</div></div>
        <div class="theme-btn" data-color="#ff6b6b" title="Red"><div class="tb-swatch" style="background:linear-gradient(135deg,#0f0808,#180e0e);border:2px solid #ff6b6b;border-radius:50%;">üî¥</div></div>
        <div class="theme-btn" data-color="#51cf66" title="Green"><div class="tb-swatch" style="background:linear-gradient(135deg,#080f0a,#0e180f);border:2px solid #51cf66;border-radius:50%;">üü¢</div></div>
        <div class="theme-btn" data-color="#cc5de8" title="Purple"><div class="tb-swatch" style="background:linear-gradient(135deg,#0d080f,#140e18);border:2px solid #cc5de8;border-radius:50%;">üü£</div></div>
        <div class="theme-btn" data-color="#fcc419" title="Gold"><div class="tb-swatch" style="background:linear-gradient(135deg,#0f0e08,#18170e);border:2px solid #fcc419;border-radius:50%;">üü°</div></div>
      </div>
    </div>

    <div class="modal-section-label">Performance</div>
    <div class="modal-row"><div><label>Animation Speed</label><div class="sub">Controls all animation timing</div></div>
      <div class="speed-row">
        <span class="speed-label">0.5√ó</span>
        <input type="range" class="speed-slider" id="speedSlider" min="0.5" max="2" step="0.1" value="1">
        <span class="speed-label" id="speedLabel">1√ó</span>
      </div>
    </div>

    <div class="modal-section-label">Navigation</div>
    <div class="modal-row"><div><label>Auto-hide Nav Bar</label><div class="sub">Hides bar on scroll down</div></div><div class="toggle on" id="autohideToggle"></div></div>

    <div class="modal-section-label">Data</div>
    <div class="modal-row"><div><label>Clear Favorites</label><div class="sub">Remove all starred proxies</div></div><button class="tool-btn sec" id="clearFavsBtn" style="padding:6px 14px;flex:none;font-size:12px;">Clear</button></div>
    <div class="modal-row"><div><label>Clear Clipboard</label><div class="sub">Wipe clipboard history</div></div><button class="tool-btn sec" id="clearClipBtn" style="padding:6px 14px;flex:none;font-size:12px;">Clear</button></div>
  </div>
</div>

<div id="cursor"><div class="c-ring"></div><div class="c-dot"></div></div>

<script>
(function(){
const $=s=>document.querySelector(s), $$=s=>[...document.querySelectorAll(s)];

/* ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ */
function toast(msg,type='ok',dur=2400){
  const t=document.createElement('div');t.className='toast '+type;
  t.innerHTML=`<span class="t-icon">${type==='ok'?'‚úì':'‚úï'}</span><span>${msg}</span>`;
  document.body.appendChild(t);
  requestAnimationFrame(()=>requestAnimationFrame(()=>t.classList.add('show')));
  setTimeout(()=>{t.classList.remove('show');setTimeout(()=>t.remove(),300);},dur);
}

/* ‚îÄ‚îÄ‚îÄ ACTIVITY FEED ‚îÄ‚îÄ‚îÄ */
let feedLog=[];
function logActivity(type,name,detail){
  feedLog.unshift({type,name,detail,time:new Date()});
  if(feedLog.length>30)feedLog.pop();
  renderFeed();
}
function renderFeed(){
  const el=$('#feedList');
  if(!feedLog.length){el.innerHTML='<div class="feed-empty">No activity yet ‚Äî open or copy a proxy link</div>';return;}
  el.innerHTML=feedLog.slice(0,8).map(e=>{
    const mins=Math.round((Date.now()-e.time)/60000);
    const timeStr=mins===0?'just now':mins===1?'1 min ago':mins+' min ago';
    const icoClass=e.type==='open'?'ico-open':e.type==='copy'?'ico-copy':'ico-fav';
    const ico=e.type==='open'?'‚Üó':e.type==='copy'?'‚éò':'‚òÖ';
    return `<div class="feed-item"><div class="feed-ico ${icoClass}">${ico}</div><div class="feed-body"><strong>${e.name}</strong> ‚Äî ${e.detail}<div class="feed-time">${timeStr}</div></div></div>`;
  }).join('');
}
setInterval(()=>{if(feedLog.length)renderFeed();},30000);

/* ‚îÄ‚îÄ‚îÄ UNLOCK ‚îÄ‚îÄ‚îÄ */
(function(){
  const trigger=$('#secret-trigger');let phase=0;
  trigger.addEventListener('click',()=>{
    phase++;trigger.classList.remove('phase1','phase2','phase3');
    if(phase===1){trigger.classList.add('phase1');trigger.querySelector('p').textContent='Almost there‚Ä¶';}
    else if(phase===2){trigger.classList.add('phase2');trigger.querySelector('p').textContent='One more‚Ä¶';}
    else if(phase>=3){trigger.classList.add('phase3');trigger.querySelector('p').textContent='Unlocking‚Ä¶';doUnlock();}
  });
  document.addEventListener('keydown',e=>{if(e.ctrlKey&&e.shiftKey&&e.key==='L'){e.preventDefault();doUnlock();}});
  function doUnlock(){
    const ov=$('#unlock-overlay');ov.classList.add('show');
    setTimeout(()=>$('#disguise').classList.add('hide'),600);
    setTimeout(()=>{
      document.body.classList.add('unlocked');$('#disguise').style.display='none';ov.classList.remove('show');
      initNebula();document.body.classList.add('cursor-on');initCursor();
      buildClockTicks();buildProxies();renderFavRow();buildGraph();updateRing();startPingPulse();
      toast('Welcome to PEAK UBG','ok',2200);
    },1600);
  }
})();

/* ‚îÄ‚îÄ‚îÄ NEBULA BACKGROUND ‚îÄ‚îÄ‚îÄ */
function initNebula(){
  const c=$('#nebula-canvas'),ctx=c.getContext('2d');
  let w,h,t=0;
  function resize(){w=c.width=innerWidth;h=c.height=innerHeight;}
  resize();addEventListener('resize',resize);

  // Nebula layers: drifting color clouds + floating particles (optimized)
  const clouds=[
    {cx:0.3,cy:0.4,r:0.4,hue:200,sat:50,lit:10,dx:0.00008,dy:0.00005},
    {cx:0.7,cy:0.6,r:0.35,hue:220,sat:40,lit:8,dx:-0.00006,dy:0.00008}
  ];
  const particles=[];
  for(let i=0;i<30;i++)particles.push({
    x:Math.random(),y:Math.random(),
    r:Math.random()*1+0.5,
    s:Math.random()*.02+.008,
    hue:180+Math.random()*40,
    bright:Math.random()*.4+.3
  });

  function draw(){
    ctx.fillStyle='rgba(8,9,15,0.18)';ctx.fillRect(0,0,w,h);
    t+=0.5;
    const sp=parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--anim-speed'))||1;

    // Clouds
    clouds.forEach(cl=>{
      cl.cx+=cl.dx*sp;cl.cy+=cl.dy*sp;
      if(cl.cx<-0.1)cl.cx=1.1;if(cl.cx>1.1)cl.cx=-0.1;
      if(cl.cy<-0.1)cl.cy=1.1;if(cl.cy>1.1)cl.cy=-0.1;
      const pulse=Math.sin(t*.015+cl.hue)*.003;
      const grad=ctx.createRadialGradient(cl.cx*w,cl.cy*h,0,cl.cx*w,cl.cy*h,(cl.r+pulse)*Math.max(w,h)*.5);
      grad.addColorStop(0,`hsla(${cl.hue},${cl.sat}%,${cl.lit+3}%,0.5)`);
      grad.addColorStop(0.5,`hsla(${cl.hue},${cl.sat}%,${cl.lit}%,0.2)`);
      grad.addColorStop(1,'transparent');
      ctx.fillStyle=grad;ctx.fillRect(0,0,w,h);
    });

    // Particles (stars)
    particles.forEach(p=>{
      p.y+=p.s*sp;if(p.y>1){p.y=0;p.x=Math.random();}
      const flicker=.5+Math.sin(t*.08+p.x*10)*0.5;
      const alpha=p.bright*flicker;
      ctx.fillStyle=`hsla(${p.hue},70%,${55+flicker*20}%,${alpha})`;
      ctx.beginPath();ctx.arc(p.x*w,p.y*h,p.r,0,Math.PI*2);ctx.fill();
      // Soft glow
      if(p.r>1){
        ctx.fillStyle=`hsla(${p.hue},70%,60%,${alpha*.15})`;
        ctx.beginPath();ctx.arc(p.x*w,p.y*h,p.r*3,0,Math.PI*2);ctx.fill();
      }
    });

    requestAnimationFrame(draw);
  }
  // Initial clear
  ctx.fillStyle='rgb(8,9,15)';ctx.fillRect(0,0,w,h);
  draw();
}

/* ‚îÄ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ‚îÄ */
function initCursor(){
  const cur=$('#cursor');
  document.addEventListener('mousemove',e=>{cur.style.left=e.clientX+'px';cur.style.top=e.clientY+'px';});
  document.addEventListener('mousedown',()=>cur.classList.add('click'));
  document.addEventListener('mouseup',()=>cur.classList.remove('click'));
  function bindHover(){$$('button,.widget,.p-card,.bar-item,.tool-card,.qm-item,.fav-chip,.game-tile').forEach(el=>{el.addEventListener('mouseenter',()=>cur.classList.add('hover'));el.addEventListener('mouseleave',()=>cur.classList.remove('hover'));});}
  bindHover();window._rebindHover=bindHover;
}

/* ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ */
const secMap={dash:'sec-dash',hub:'sec-hub',tools:'sec-tools',game:'sec-game',updates:'sec-updates'};
let currentSec='dash',hubFilter='all';
function showSec(id){
  currentSec=id;$$('.section').forEach(s=>s.classList.remove('active'));
  $('#'+secMap[id])?.classList.add('active');
  $$('.bar-item[data-sec]').forEach(b=>b.classList.toggle('active',b.dataset.sec===id));
  $('#searchWrap').classList.toggle('visible',id==='hub');
  $('#scrollArea').scrollTop=0;
  if(id==='tools')initTools();
  if(id==='hub')buildProxies();
  if(id==='dash'){renderFavRow();updateRing();renderFeed();}
  if(id==='game'){$('#gameSearchWrap').classList.add('visible');buildGameGrid();}
}
$$('.bar-item[data-sec]').forEach(btn=>btn.addEventListener('click',()=>showSec(btn.dataset.sec)));
$('#gameSearchInput').addEventListener('input',()=>buildGameGrid());
$('#gameSearchClear').addEventListener('click',()=>{$('#gameSearchInput').value='';buildGameGrid();});

/* ‚îÄ‚îÄ‚îÄ SETTINGS ‚îÄ‚îÄ‚îÄ */
let autohideEnabled=true;
function openModal(){$('#modalBg').classList.add('show');$('#modal').classList.add('show');}
function closeModal(){$('#modalBg').classList.remove('show');$('#modal').classList.remove('show');}
$('#settingsBtn').addEventListener('click',openModal);
$('#modalBg').addEventListener('click',closeModal);
$('#modalClose').addEventListener('click',closeModal);

// Cursor toggle
$('#cursorToggle').addEventListener('click',function(){
  this.classList.toggle('on');const on=this.classList.contains('on');
  document.body.classList.toggle('cursor-on',on);if(on)initCursor();
  toast(on?'Cursor enabled':'Cursor disabled','ok',1600);
});

// Scanlines toggle
$('#scanlinesToggle').addEventListener('click',function(){
  this.classList.toggle('on');document.body.classList.toggle('no-scanlines',!this.classList.contains('on'));
  toast(this.classList.contains('on')?'Scanlines on':'Scanlines off','ok',1400);
});

// Accent color
$('#accent-pick').addEventListener('input',e=>{applyAccent(e.target.value);});
function applyAccent(v){
  document.documentElement.style.setProperty('--acc',v);
  document.documentElement.style.setProperty('--border-acc',v+'38');
  document.documentElement.style.setProperty('--glow',v+'2e');
  $('#accent-pick').value=v;
  $$('.theme-btn').forEach(b=>b.classList.toggle('active',b.dataset.color===v));
}

// Theme presets
$$('.theme-btn').forEach(btn=>btn.addEventListener('click',()=>{applyAccent(btn.dataset.color);toast('Theme applied','ok',1200);}));

// Animation speed
$('#speedSlider').addEventListener('input',e=>{
  const v=parseFloat(e.target.value);
  document.documentElement.style.setProperty('--anim-speed',v);
  $('#speedLabel').textContent=v.toFixed(1)+'√ó';
});

// Auto-hide toggle
$('#autohideToggle').addEventListener('click',function(){
  this.classList.toggle('on');autohideEnabled=this.classList.contains('on');
  toast(autohideEnabled?'Auto-hide enabled':'Auto-hide disabled','ok',1400);
});

// Clear favs
$('#clearFavsBtn').addEventListener('click',()=>{
  favs={};localStorage.setItem('peak-favs','{}');
  buildProxies();renderFavRow();toast('Favorites cleared','ok',1400);
});

// Clear clipboard
$('#clearClipBtn').addEventListener('click',()=>{
  clipHistory=[];localStorage.setItem('peak-clip','[]');
  renderClips();toast('Clipboard cleared','ok',1400);
});

/* ‚îÄ‚îÄ‚îÄ CLOCK ‚îÄ‚îÄ‚îÄ */
function buildClockTicks(){
  let html='';
  for(let i=0;i<60;i++){
    const angle=i*6-90,rad=angle*Math.PI/180,isMajor=i%5===0;
    const outerR=44,innerR=isMajor?40:42;
    const x1=50+outerR*Math.cos(rad),y1=50+outerR*Math.sin(rad);
    const x2=50+innerR*Math.cos(rad),y2=50+innerR*Math.sin(rad);
    html+=`<line x1="${x1}" y1="${y1}" x2="${x2}" y2="${y2}" class="${isMajor?'clock-tick-main':'clock-tick'}"/>`;
  }
  $('#clockTicks').innerHTML=html;
}
function tickClock(){
  const now=new Date();
  const h=now.getHours()%12,m=now.getMinutes(),s=now.getSeconds(),ms=now.getMilliseconds();
  $('#handS').style.transform=`rotate(${(s+ms/1000)*6-90}deg)`;
  $('#handM').style.transform=`rotate(${(m+s/60)*6-90}deg)`;
  $('#handH').style.transform=`rotate(${(h+m/60)*30-90}deg)`;
  $('#clockDate').textContent=now.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'});
  requestAnimationFrame(tickClock);
}
tickClock();

/* ‚îÄ‚îÄ‚îÄ BATTERY ‚îÄ‚îÄ‚îÄ */
if(navigator.getBattery){navigator.getBattery().then(b=>{function upd(){$('#batVal').textContent=Math.round(b.level*100)+'%';$('#batSub').textContent=b.charging?'Charging ‚ö°':'On battery';}upd();b.addEventListener('levelchange',upd);b.addEventListener('chargingchange',upd);}).catch(()=>{$('#batVal').textContent='N/A';$('#batSub').textContent='Unavailable';});}

/* ‚îÄ‚îÄ‚îÄ SYSTEM TICKER ‚îÄ‚îÄ‚îÄ */
const sysTexts=['All Systems Go','Operating Normally','Peak Performance','Status: Optimal','Online'];
let si=0;setInterval(()=>{$('#sysVal').textContent=sysTexts[si];si=(si+1)%sysTexts.length;},4200);

/* ‚îÄ‚îÄ‚îÄ PING PULSE ‚îÄ‚îÄ‚îÄ */
function startPingPulse(){setInterval(()=>{$('#pingMs').textContent=Math.round(12+Math.random()*45)+'ms';},2800);}

/* ‚îÄ‚îÄ‚îÄ GRAPH ‚îÄ‚îÄ‚îÄ */
function buildGraph(){
  const now=new Date().getHours(),data=[];
  for(let h=0;h<24;h++) data.push(h>=8&&h<=22?Math.round(Math.random()*60+30):Math.round(Math.random()*15+2));
  const max=Math.max(...data);
  $('#graphBars').innerHTML=data.map((v,i)=>`<div class="graph-bar${i===now?' now':''}" style="height:${Math.max(4,(v/max)*100)}%"></div>`).join('');
  $('#graphLabels').innerHTML=data.map((v,i)=>i%6===0?`<span style="flex:6;">${String(i).padStart(2,'0')}:00</span>`:''  ).join('');
}

/* ‚îÄ‚îÄ‚îÄ RING ‚îÄ‚îÄ‚îÄ */
function updateRing(){
  const total=PROXIES.length,online=total;
  $('#ringFill').style.strokeDashoffset=213.6*(1-online/total);
  $('#ringPct').textContent=Math.round((online/total)*100)+'%';
  $('#ringOn').textContent=online+' online';
  $('#ringOff').textContent=(total-online)+' offline';
}

/* ‚îÄ‚îÄ‚îÄ FAVS ‚îÄ‚îÄ‚îÄ */
function renderFavRow(){
  const row=$('#favRow'),keys=Object.keys(favs);
  if(!keys.length){row.innerHTML='<div class="fav-empty">No favorites yet ‚Äî star a proxy to pin it here</div>';return;}
  row.innerHTML=keys.map(id=>{const p=PROXIES.find(x=>x.id===id);if(!p)return '';return `<div class="fav-chip" data-id="${id}"><span class="fc-name">${p.name}</span><span class="fc-open">‚Üí open</span></div>`;}).join('');
  $$('.fav-chip').forEach(chip=>chip.addEventListener('click',()=>{
    const p=PROXIES.find(x=>x.id===chip.dataset.id);
    if(p&&p.links[0]){const u=p.links[0].u;window.open(u.startsWith('http')?u:'https://'+u,'_blank');logActivity('open',p.name,'quick-launch');toast(`Opened ${p.name}`,'ok',1400);}
  }));
  if(window._rebindHover)window._rebindHover();
}

/* ‚îÄ‚îÄ‚îÄ PROXIES (with scrollable unlimited links + add/remove) ‚îÄ‚îÄ‚îÄ */
const PROXIES=[
  {id:'truffled',name:'truffled',sub:'truffel',links:[{t:'Link 1',u:'https://educational.radissontucson.com/'},{t:'Link 2',u:'https://vacation.briaquaticcabinets.com/'}]},
  {id:'overcloacked',name:'Overcloacked',sub:'best proxy',links:[{t:'Link 1',u:'https://d58o0iyi.beanweb.qzz.io.cdn.cloudflare.net/'},{t:'Link 2',u:'https://stayat.hotelconsuladoinn.com/'}]},
  {id:'fern',name:'fern',sub:'epic',links:[{t:'Link 1',u:'https://apple1.vandrekalenderen.dk/'}]},
  {id:'infamous',name:'infamous',sub:'evil',links:[{t:'Link 1',u:'https://team-anti-drugs.acgcotton.com/'},{t:'Link 2',u:'https://wake-up-school-is-in-5-minutes.doriswel.com/'},{t:'Link 3',u:'https://ermmm-actually.acgcotton.com/'},{t:'Link 4',u:'https://this-link-has-a-protection-spell-so-it-cant-get-blocked.doriswel.com/'},{t:'Link 5',u:'https://i-caught-enrique-smoking-crack.doriswel.com/'}]},
  {id:'void-network',name:'Void network',sub:'space',links:[{t:'Link 1',u:'https://edu.ucecom-craiova.ro'},{t:'Link 2',u:'https://gov.proyectojusticia.com.mx'}]},
  {id:'endis',name:'Endis',sub:'poptart',links:[{t:'Link 1',u:'https://endis.cute.lat/'},{t:'Link 2',u:'https://cute.lat'}]},
  {id:'glint',name:'glint',sub:'copier',links:[{t:'Link 1',u:'https://aqua.bastaff.ru/'},{t:'Link 2',u:'https://ixll.creographix.at/'}]},
  {id:'Demon',name:'Demon',sub:'w proxy',links:[{t:'Link 1',u:'math.learn-math.space'}]},
  {id:'uptopia',name:'uptopia',sub:'nice',links:[{t:'Link 1',u:'iwantpizza.7geo7.ru'}]},
  {id:'bolt',name:'bolt',sub:'fast',links:[{t:'Link 1',u:'https://apple33.hicam.net'}]},
  {id:'uniub',name:'Uniub',sub:'weird',links:[{t:'Link 1',u:'https://learnaboutbillclinton.bisblick.org/'},{t:'Link 2',u:'https://aphistorytutoring.bisblick.org/'}]},
  {id:'saturn',name:'Saturn',sub:'space',links:[{t:'Link 1',u:'https://lightspeedisass.graphicon.org/'}]}
];

let favs={};try{favs=JSON.parse(localStorage.getItem('peak-favs')||'{}');}catch(e){}
let clipHistory=[];try{clipHistory=JSON.parse(localStorage.getItem('peak-clip')||'[]');}catch(e){}
// Load saved proxy links (user can add links that persist)
let savedLinks={};try{savedLinks=JSON.parse(localStorage.getItem('peak-links')||'{}');}catch(e){}
// Merge saved links into PROXIES on load
PROXIES.forEach(p=>{if(savedLinks[p.id])p.links=savedLinks[p.id];});
function saveProxyLinks(){
  const out={};PROXIES.forEach(p=>{out[p.id]=p.links;});
  localStorage.setItem('peak-links',JSON.stringify(out));
}

function saveClip(txt){clipHistory=clipHistory.filter(c=>c!==txt);clipHistory.unshift(txt);if(clipHistory.length>12)clipHistory=clipHistory.slice(0,12);localStorage.setItem('peak-clip',JSON.stringify(clipHistory));renderClips();}
function renderClips(){
  const el=$('#clipList');
  if(!clipHistory.length){el.innerHTML='<div style="color:var(--txt2);font-size:12px;padding:6px 0;">No copied items yet‚Ä¶</div>';return;}
  el.innerHTML=clipHistory.map((c,i)=>`<div class="clip-item"><span>${c.length>60?c.slice(0,57)+'‚Ä¶':c}</span><button class="clip-paste" data-i="${i}">Paste</button></div>`).join('');
  $$('.clip-paste').forEach(b=>b.addEventListener('click',()=>navigator.clipboard.writeText(clipHistory[+b.dataset.i]).then(()=>toast('Pasted to clipboard','ok',1400))));
}

function buildProxies(){
  const grid=$('#proxyGrid'),q=$('#searchInput').value.toLowerCase();
  let filtered=PROXIES.filter(p=>p.name.toLowerCase().includes(q)||p.sub.toLowerCase().includes(q));
  if(hubFilter==='favs')filtered=filtered.filter(p=>favs[p.id]);
  $('#hubCount').textContent=filtered.length+' proxies';

  grid.innerHTML=filtered.map(p=>`
    <div class="p-card ${favs[p.id]?'fav':''}" data-id="${p.id}">
      <div class="p-top">
        <div><div class="p-name">${p.name}</div><div class="p-sub">${p.sub}<span class="p-badge">${p.links.length} link${p.links.length>1?'s':''}</span></div></div>
        <div class="p-acts"><button class="p-fav ${favs[p.id]?'on':''}" data-id="${p.id}">${favs[p.id]?'‚òÖ':'‚òÜ'}</button><button class="p-open" data-id="${p.id}">Open</button></div>
      </div>
      <div class="p-links" id="pl-${p.id}">
        <div class="p-links-scroll">
          ${p.links.map((l,li)=>`<div class="p-link" data-li="${li}">
            <button class="p-link-del" data-id="${p.id}" data-li="${li}" title="Remove link">‚úï</button>
            <div class="p-link-info"><div class="p-link-title">${l.t}</div><div class="p-link-url">${l.u}</div></div>
            <div class="p-link-btns"><button class="p-link-btn" data-url="${l.u}" data-name="${p.name}">Open</button><button class="p-link-btn cp" data-url="${l.u}" data-name="${p.name}">Copy</button></div>
          </div>`).join('')}
        </div>
        <div class="p-add-link" data-id="${p.id}"><span class="al-icon">+</span><span>Add Link</span></div>
        <div class="p-add-form" id="af-${p.id}" style="display:none;">
          <input type="text" class="af-title" placeholder="Link name (e.g. Link 3)" data-id="${p.id}">
          <input type="text" class="af-url" placeholder="URL here‚Ä¶" data-id="${p.id}">
          <div class="p-add-form-btns">
            <button class="p-add-form-btn af-save" data-id="${p.id}">Save</button>
            <button class="p-add-form-btn cancel af-cancel" data-id="${p.id}">Cancel</button>
          </div>
        </div>
      </div>
    </div>`).join('');

  // Fav buttons
  $$('.p-fav').forEach(btn=>btn.addEventListener('click',e=>{
    const id=e.target.dataset.id;favs[id]=!favs[id];if(!favs[id])delete favs[id];
    localStorage.setItem('peak-favs',JSON.stringify(favs));
    e.target.classList.toggle('on',!!favs[id]);e.target.textContent=favs[id]?'‚òÖ':'‚òÜ';
    e.target.closest('.p-card').classList.toggle('fav',!!favs[id]);
    const p=PROXIES.find(x=>x.id===id);
    logActivity('fav',p?p.name:'proxy',favs[id]?'added to favorites':'removed');
    toast(favs[id]?'Added to favorites':'Removed','ok',1400);renderFavRow();
  }));

  // Open/Close links panel
  $$('.p-open').forEach(btn=>btn.addEventListener('click',e=>{
    const id=e.target.dataset.id,panel=$('#pl-'+id),isOpen=panel.classList.contains('open');
    $$('.p-links').forEach(p=>p.classList.remove('open'));$$('.p-open').forEach(b=>b.textContent='Open');
    if(!isOpen){panel.classList.add('open');e.target.textContent='Close';}
  }));

  // Open link in new tab
  $$('.p-link-btn:not(.cp)').forEach(btn=>btn.addEventListener('click',e=>{
    const u=e.target.dataset.url,name=e.target.dataset.name;
    window.open(u.startsWith('http')?u:'https://'+u,'_blank');logActivity('open',name,'opened link');
  }));

  // Copy link
  $$('.p-link-btn.cp').forEach(btn=>btn.addEventListener('click',e=>{
    const u=e.target.dataset.url,name=e.target.dataset.name;
    navigator.clipboard.writeText(u).then(()=>{toast('Copied!','ok',1400);saveClip(u);logActivity('copy',name,'copied link');});
  }));

  // Delete link
  $$('.p-link-del').forEach(btn=>btn.addEventListener('click',e=>{
    const id=e.target.dataset.id,li=parseInt(e.target.dataset.li);
    const p=PROXIES.find(x=>x.id===id);
    if(p&&p.links.length>1){p.links.splice(li,1);saveProxyLinks();buildProxies();toast('Link removed','ok',1200);}
    else toast('Cannot remove the only link','err',1400);
  }));

  // Show add form
  $$('.p-add-link').forEach(btn=>btn.addEventListener('click',e=>{
    const id=e.target.closest('.p-add-link').dataset.id;
    const form=$('#af-'+id);form.style.display='flex';btn.style.display='none';
  }));

  // Cancel add
  $$('.af-cancel').forEach(btn=>btn.addEventListener('click',e=>{
    const id=e.target.dataset.id;
    $('#af-'+id).style.display='none';
    document.querySelector(`.p-add-link[data-id="${id}"]`).style.display='flex';
  }));

  // Save new link
  $$('.af-save').forEach(btn=>btn.addEventListener('click',e=>{
    const id=e.target.dataset.id;
    const form=$('#af-'+id);
    const title=form.querySelector('.af-title').value.trim();
    const url=form.querySelector('.af-url').value.trim();
    if(!url){toast('Enter a URL','err',1400);return;}
    const p=PROXIES.find(x=>x.id===id);
    if(p){
      p.links.push({t:title||'Link '+(p.links.length+1),u:url});
      saveProxyLinks();
      // Re-render keeping this card's links panel open
      buildProxies();
      // Re-open the panel
      const panel=$('#pl-'+id);if(panel){panel.classList.add('open');const ob=document.querySelector(`.p-card[data-id="${id}"] .p-open`);if(ob)ob.textContent='Close';}
      toast('Link added','ok',1200);
    }
  }));

  $('#proxyCount').textContent=PROXIES.length;$('#statusText').textContent=PROXIES.length+' endpoints online';
  if(window._rebindHover)window._rebindHover();
}
$('#searchInput').addEventListener('input',()=>buildProxies());
$('#searchClear').addEventListener('click',()=>{$('#searchInput').value='';buildProxies();});

/* HUB TOOLBAR */
$('#hubAll').addEventListener('click',()=>{hubFilter='all';$('#hubAll').classList.add('act');$('#hubFavs').classList.remove('act');buildProxies();});
$('#hubFavs').addEventListener('click',()=>{hubFilter='favs';$('#hubFavs').classList.add('act');$('#hubAll').classList.remove('act');buildProxies();});
$('#hubOpenAll').addEventListener('click',()=>{let c=0;PROXIES.forEach(p=>{if(p.links[0]){const u=p.links[0].u;window.open(u.startsWith('http')?u:'https://'+u,'_blank');c++;}});toast(`Opened ${c} links`,'ok',2000);});

/* ‚îÄ‚îÄ‚îÄ TOOLS ‚îÄ‚îÄ‚îÄ */
let timerSec=300,timerInt=null,timerRunning=false;
let swMs=0,swInt=null,swRunning=false,laps=[];
function initTools(){
  function updTimer(){const m=Math.floor(timerSec/60),s=timerSec%60;$('#timerDisp').textContent=String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');}
  $('#timerPreset').addEventListener('change',e=>{if(!timerRunning){timerSec=+e.target.value;updTimer();}});
  $('#timerStart').addEventListener('click',function(){
    if(!timerRunning&&timerSec>0){timerRunning=true;this.textContent='Pause';timerInt=setInterval(()=>{if(timerSec>0){timerSec--;updTimer();}else{clearInterval(timerInt);timerRunning=false;$('#timerStart').textContent='Start';toast('Timer done!','ok',2600);}},1000);}
    else if(timerRunning){clearInterval(timerInt);timerRunning=false;this.textContent='Start';}
  });
  $('#timerReset').addEventListener('click',()=>{clearInterval(timerInt);timerRunning=false;timerSec=+$('#timerPreset').value;$('#timerDisp').textContent=String(Math.floor(timerSec/60)).padStart(2,'0')+':'+String(timerSec%60).padStart(2,'0');$('#timerStart').textContent='Start';});
  updTimer();
  function updSW(){const ms=swMs%1000,s=Math.floor(swMs/1000)%60,m=Math.floor(swMs/60000)%60;$('#swDisp').textContent=String(m).padStart(2,'0')+':'+String(s).padStart(2,'0')+'.'+String(Math.floor(ms/10)).padStart(2,'0');}
  $('#swStart').addEventListener('click',function(){if(!swRunning){swRunning=true;this.textContent='Stop';const base=Date.now()-swMs;swInt=setInterval(()=>{swMs=Date.now()-base;updSW();},50);}else{clearInterval(swInt);swRunning=false;this.textContent='Start';}});
  $('#swLap').addEventListener('click',()=>{if(!swRunning&&swMs===0)return;laps.push(swMs);$('#lapList').innerHTML=laps.map((l,i)=>{const ms=l%1000,s=Math.floor(l/1000)%60,m=Math.floor(l/60000)%60;return `<div style="font-size:11px;color:var(--txt2);font-family:'Share Tech Mono',monospace;padding:2px 0;border-bottom:1px solid var(--border);">Lap ${i+1}: ${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}.${String(Math.floor(ms/10)).padStart(2,'0')}</div>`;}).reverse().join('');});
  $('#swReset').addEventListener('click',()=>{clearInterval(swInt);swRunning=false;swMs=0;laps=[];$('#swStart').textContent='Start';$('#swDisp').textContent='00:00.00';$('#lapList').innerHTML='';});
  updSW();
  $('#encEncode').addEventListener('click',()=>{const v=$('#encInput').value;if(!v)return;$('#encOutput').value=encodeURIComponent(v);});
  $('#encDecode').addEventListener('click',()=>{const v=$('#encInput').value;if(!v)return;try{$('#encOutput').value=decodeURIComponent(v);toast('Decoded','ok',1200);}catch(e){$('#encOutput').value='Invalid encoded string';toast('Decode error','err',1400);}});
  $('#encCopy').addEventListener('click',()=>{const v=$('#encOutput').value;if(!v)return;navigator.clipboard.writeText(v).then(()=>{toast('Copied','ok',1200);saveClip(v);});});
  $('#encClear').addEventListener('click',()=>{$('#encInput').value='';$('#encOutput').value='';});
  $('#notesCopy').addEventListener('click',()=>{const v=$('#notesTA').value;if(!v)return;navigator.clipboard.writeText(v).then(()=>{toast('Notes copied','ok',1400);saveClip(v);});});
  $('#notesClear').addEventListener('click',()=>$('#notesTA').value='');
  renderClips();
}

/* ‚îÄ‚îÄ‚îÄ GAME ‚îÄ‚îÄ‚îÄ */
const GAME_HTML={
  climbing:`<!DOCTYPE html>
<html lang="en-us">
  <head>
    <base href="https://cdn.jsdelivr.net/gh/web-ports/adgac@main/">
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | A Difficult Game About Climbing</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background: #231F20;
        }

        #unity-container {
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
        }
    </style>
  </head>
  <body>
	<div id="loading-text" style="color: white; font-size: 48px; font-family: cursive; text-align: center; margin-top: 20px;"> LOADING... </div>
    <div id="unity-container" class="unity-desktop" hidden>
      <canvas id="unity-canvas" width=960 height=600 tabindex="-1"></canvas>
      <div id="unity-loading-bar">
        <div id="unity-logo"></div>
        <div id="unity-progress-bar-empty">
          <div id="unity-progress-bar-full"></div>
        </div>
      </div>
    </div>
    <script>
        var loadingText = document.querySelector("#loading-text");
        let totalBytes = 0;
        let loadedBytes = 0;

        async function fetchWithProgress(url) {
            const response = await fetch(url);
            const reader = response.body.getReader();
            let chunks = [];
            let received = 0;
            while (true) {
                const {
                    done,
                    value
                } = await reader.read();
                if (done) break;
                received += value.length;
                loadedBytes += value.length;
                chunks.push(value);
                let mbDone = (loadedBytes / (1024 * 1024)).toFixed(2);
                let mbTotal = '319.89';
                loadingText.textContent = \`LOADING... \${mbDone} MB / \${mbTotal} MB\`;
            }
            let fullBuffer = new Uint8Array(received);
            let offset = 0;
            for (let chunk of chunks) {
                fullBuffer.set(chunk, offset);
                offset += chunk.length;
            }
            return fullBuffer.buffer;
        }
        async function mergeFiles(fileParts, cacheKey) {
            const buffers = await Promise.all(
                fileParts.map(part => fetchWithProgress(part))
            );
            const mergedBlob = new Blob(buffers);
            return URL.createObjectURL(mergedBlob);
        }

        function getParts(file, start, end) {
            let parts = [];
            for (let i = start; i <= end; i++) {
                parts.push(file + ".part" + i);
            }
            return parts;
        }
        (async () => {
            const [dataUrl, wasmUrl] = await Promise.all([
                mergeFiles(getParts("Build/adgac.data", 1, 14), "gtagwebR2.data"),
                mergeFiles(getParts("Build/adgac.wasm", 1, 3), "gtagwebR2.wasm"),
            ]);
            var buildUrl = "Build";
      var loaderUrl = buildUrl + "/adgac.loader.js";
      var config = {
        dataUrl: dataUrl,
        frameworkUrl: "Build/adgac.framework.js",
        codeUrl: wasmUrl,
        streamingAssetsUrl: "StreamingAssets",
        companyName: "Pontypants",
        productName: "A Difficult Game About Climbing",
        productVersion: "1.2.61",
        // matchWebGLToCanvasSize: false, // Uncomment this to separately control WebGL canvas render size and DOM element size.
        // devicePixelRatio: 1, // Uncomment this to override low DPI rendering on high DPI displays.
      };
            var container = document.querySelector("#unity-container");
            container.hidden = false;
            var canvas = document.querySelector("#unity-canvas");
            var loadingBar = document.querySelector("#unity-loading-bar");
            var progressBarFull = document.querySelector("#unity-progress-bar-full");
            if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                container.className = "unity-mobile";
                config.devicePixelRatio = 1;
            } else {
                if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                    var meta = document.createElement('meta');
                    meta.name = 'viewport';
                    meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
                    document.getElementsByTagName('head')[0].appendChild(meta);
                    container.className = "unity-mobile";
                    canvas.className = "unity-mobile";
                } else {
                    function resizeCanvas() {
                        canvas.width = window.innerWidth;
                        canvas.height = window.innerHeight;
                        canvas.style.width = window.innerWidth + "px";
                        canvas.style.height = window.innerHeight + "px";
                    }
                    resizeCanvas();
                    window.addEventListener('resize', resizeCanvas);
                }
            }
            loadingBar.style.display = "block";
            var script = document.createElement("script");
            script.src = loaderUrl;
            script.onload = () => {
                createUnityInstance(canvas, config, (progress) => {
                    progressBarFull.style.width = 100 * progress + "%";
                }).then((unityInstance) => {
                    loadingText.remove();
					console.log(loadedBytes)
                    loadingBar.style.display = "none";
                    canvas.style.display = "block";
                }).catch(async (message) => {
                    alert(message);
                });

            };
            document.body.appendChild(script);
        })();
    <\\/script>
  </body>
</html>`,
  thirtyDollar:`<!doctype html>
<html>
    <head>
        <base href="https://cdn.jsdelivr.net/gh/gn-math/assets@main/352/">
        <title>DON'T YOU LECTURE ME WITH YOUR THIRTY DOLLAR WEBSITE</title>
        <link rel="stylesheet" href="üé®.css?v=8a" charset="UTF-8">
        <link rel="icon" href="assets/üóø.png">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=820">
        <meta property="og:title" content="DON'T YOU LECTURE ME WITH YOUR THIRTY DOLLAR WEBSITE">
        <meta property="og:description" content="üóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóøüóø">
        <meta property="og:type" content="website">
        <meta name="og:image" itemprop="image" content="assets/üóø.png">

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7YF7WH8ESJ"><\\/script>
        <script>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-7YF7WH8ESJ');<\\/script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"><\\/script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"><\\/script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"><\\/script>
    </head>

    <body style="text-align: center">

        <div id="everything">
        
        <h1 class="title" id="caption">DON'T YOU LECTURE ME WITH YOUR THIRTY DOLLAR WEBSITE</h1>

        <div id="main">

            <div class="sideboxes">
                <div class="innersidebox" id="icons_container">
                    <div class="infobox">
                        <h1 id="soundText">Sounds</h1>
                        <h1 id="soundInfo" style="display: none; color: var(--greenfont); white-space: nowrap;">
                            <soundinfo id="soundName"></soundinfo>
                            <soundinfo id="soundOrigin" style="margin-left: 5px; font-size: 20px; opacity: 50%;"></soundinfo>
                        </h1>
                        <span><p mobile="Tap to add sound">Left click to add sound</p><p mobile="Hold to preview">Right click to preview</p></span>
                    </div>
                    <div class="iconbox loadingIcons" id="icons" style="height: 467px">
                        <div id="iconboxLoading" style="width: 100%; opacity: 33%">
                            <h1 id="loadingText">Loading...</h1>
                            <p id="errorInfo" style="font-weight: normal; padding-bottom: 10px"><p>
                        </div>
                    </div>
                </div>

                <div class="innersidebox" style="width: 284px;">
                    <div class="infobox">
                        <h1 id="actionText">Actions</h1>
                        <h1 id="actionInfo" style="display: none; color: var(--bluefont)">
                            <actioninfo id="actionName"></actioninfo>
                            <actioninfo id="actionKey" style="margin-left: 5px; font-size: 20px; opacity: 50%;"></actioninfo>
                        </h1>
                        <span class="mobileOnly"><p mobile="Tap to add action">Left click to add action</p></span>
                    </div>
                    <div class="iconbox" id="actions"></div>

                    <div class="playbuttons">
                        <p id="bpmInfo" class="stopInfo" style="display: none;"><span id="BPM"></span> BPM &nbsp;&nbsp;‚Ä¢&nbsp;&nbsp; <span id="volume"></span>% Volume</p>
                        <div id="stopBtn" class="stopInfo" style="background-color: var(--emojiyellow); display: none;" onclick="cancel({ stopSounds: true })" oncontextmenu="return false">
                            <img src="assets/stop.png">
                            <h1>Stop</h1>
                        </div>

                        <p class="playInfo" mobile="Hold to skip intro">Right click to skip intro</p>
                        <div id="playBtn" class="playInfo" style="background-color: var(--emojigreen)" onclick="startSequence()" oncontextmenu="startSequence(true); return false">
                            <img src="assets/play.png">
                            <h1>Play</h1>
                        </div>

                        <div id="resetBtn" style="background-color: var(--emojired)" onclick="if (!active && $('#sequence').children().length) { shiftHeld ? $('#clearsounds').click() : $('#clearAll').css('display', 'flex') }" oncontextmenu="return false">
                            <img src="assets/reset.png">
                            <h1>Clear</h1>
                        </div>

                    </div>
                </div>
            </div>

            <div style="margin-bottom: 0px">
                <div class="infobox">
                    <h1>Sequence</h1>
                    <span>
                        <p mobile="Tap to remove">Left click to remove</p>
                        <p class="nomobile">Right click to preview</p>
                        <p class="nomobile">Shift click to clone</p>
                        <p mobile="Swipe to change pitch">Scroll to change pitch</p>
                        <p class="nomobile">Ctrl+scroll to change volume</p>
                        <!-- <p mobile="Drag to rearrange">Drag to rearrange</p> -->
                    </span>
                </div>
                <div class="iconbox" id="sequence"></div>
            </div>

            <div style="display: none;" id="sectionSettings">
                <div class="infobox" style="flex-direction:column; align-items: flex-start">
                    <h1 style="margin-bottom: 12px" class="noPin">Selected section: <b id="selectedSection">None</b></h1>
                    <div class="sectionControls">
                        <img onclick="changeSection(-1)" class="imgButton" src="assets/section_previous.png" title="Previous section">
                        <img onclick="changeSection(1)" class="imgButton" src="assets/section_next.png" title="Next section">
                        <img class="requiresSelected imgButton cantSelect" id="hideSection" onclick="toggleSectionVisibility()" src="assets/section_hide.png" title="Hide section">
                        <img class="requiresSelected imgButton cantSelect" id="showSection" onclick="toggleSectionVisibility()" src="assets/section_show.png" title="Show section" style="display: none">
                        <img class="requiresSelected imgButton cantSelect" onclick="deselectSection()" src="assets/section_deselect.png" id="Deselect section">
                    </div>
                    <span class="noPin" style="margin-top: 12px">
                        <p>Ctrl+Click to select a section</p>
                        <p>Ctrl+Up/Down to change section</p>
                        <p>Ctrl+D to deselect</p>
                    </span>
                    <p class="noPin multiline" style="text-align: left; margin-top: 0px">Sounds will be added to the end of the selected section, and playback will begin from the beginning of it.<br>You can pin these section controls from the settings.</p>
                </div>
            </div>

            <input type="file" id="loadFile" style="display: none;" accept=".üóø,.moai,.txt,">

            <div class="playbuttons saveButtons" id="saveOptions" style="display: none; margin-top: 30px; flex-direction: row; justify-content: center;";>

                <div id="saveBtn" onclick="quickSave()" style="position: relative" oncontextmenu="return false">
                    <img src="assets/save.svg">
                    <h1>Save</h1>
                </div>

                <div id="downloadBtn" oncontextmenu="return false">
                    <img src="assets/download.svg">
                    <h1 id="saveAsText">Save As</h1>
                </div>

                <div id="loadBtn" onclick="$('#loadFile').click()" oncontextmenu="return false">
                    <img src="assets/load.svg">
                    <h1>Load</h1>
                </div>

            </div>

            <div style="display: flex; justify-content: center; align-items: center; margin: 7px 0px 16px 0px;">
                <input id="saveName" placeholder="sequence" type="text" style="height: 32px; width: 200px; background-color: rgba(0, 0, 0, 0.25);">
                <p style="margin: 0px 0px 0px 6px; padding: 0px 0px; font-size: 20px;">.üóø</p>
            </div>

            <div class="socialLinks" style="margin-bottom: 10px; padding-top: 25px">
                <p style="font-size: 20px; margin: 0px 10px 0px 0px">#thirtydollarwebsite creations on:</p>
                <div class="socialTag"><a target="_blank" href="https://youtube.com/results?search_query=%23thirtydollarwebsite"><img src="assets/social_youtube.svg"> <p>YouTube</p></a></div>
                <div class="socialTag"><a target="_blank" href="https://tiktok.com/search?q=%23thirtydollarwebsite"><img src="assets/social_tiktok.svg"> <p>TikTok</p></a></div>
                <div class="socialTag"><a target="_blank" href="https://twitter.com/search?q=%23thirtydollarwebsite&src=typed_query&f=top"><img src="assets/social_twitter.svg"> <p>Twitter</p></a></div>
            </div>

            <div>           
                <!-- <p class="multiline" style="margin-bottom: 16px"> -->
                    <!-- <b>NEW: </b> 12 new sounds for all your particle accelerator needs</p> -->
                <p>Check out my other silly projects over at <a style="color: white !important" target="_blank" href="https://gdcolon.com?f=30">gdcolon.com</a></p>
            </div>

            <div class="credits" style="margin-bottom: 8px">
                <p>Created by <a target="_blank" href="https://twitter.com/TheRealGDColon">Colon</a> :</p>
                <p title="no copyright intended">I own pretty much nothing on this site please don't kill me</p>
            </div>

            <div style="padding: 10px 0px 10px 0px">
                <button style="width: 150px; background: var(--emojiblue)" onclick="$('#settingsMenu').show()"><b>Settings</b></button>
                <button class="nomobile" style="margin-left: 20px; width: 150px; background: var(--emojiblue)" onclick="$('#shortcutMenu').show()"><b>Shortcuts</b></button>
            </div>

            <div style="display: flex; justify-content: center; padding: 10px 0px 30px 0px">
                <div class="extraSetting">
                    <input class="settingBox" id="toggleProMode" type="checkbox" setting="proMode">
                    <p style="font-weight: bold; font-size: 20px">PRO MODE</p>
                </div>
            </div>

            <div id="extraPadding" style="display: none; height: 200px"></div>

        </div>

        <div id="proHotbar" style="display: none">
            <div class="hotbarTabs">
                <div class="hotbarTab" tab="all" desc="Sounds">
                    <img src="assets/tab_all.svg">
                </div>
                <div class="hotbarTab" tab="actions" desc="Actions">
                    <img src="assets/tab_actions.svg">
                </div>
                <div class="hotbarTab" tab="recent" desc="Recent">
                    <img src="assets/tab_recent.svg">
                </div>
                <!-- <div class="hotbarTab" tab="favorite" desc="Favorites">
                    <img src="assets/tab_favorites.svg">
                </div> -->
                <div class="hotbarTab" tab="notes" desc="Notes">
                    <img src="assets/tab_notes.svg">
                </div>
                <div class="hotbarTab" tab="percussion" desc="Percussion">
                    <img src="assets/tab_percussion.svg">
                </div>
                <div id="hotbarHovertext" style="display: flex; justify-content: flex-start; align-items: center">
                    <h1 class="hotbarLabel" id="hotbarText" style="white-space: nowrap;"></h1>
                    <h1 class="hotbarLabel" id="hotbarContext" style="white-space: nowrap; margin-left: 10px; margin-top: 16px; font-size: 20px; opacity: 50%"></h1>
                </div>  
            </div>
            <div class="hotbar fancyScroll" id="hotbarNotes">
                
            </div>
        </div>
        
        <div class="popup" id="action_speed" style="display: none">
            <div class="popupbox">
                <h1>Set tempo</h1>
                <p class="popupdesc">Sets the rate at which sounds are played.<br>Default is 300 sounds per minute.</p>
                <p class="skippableAction"></p>
                <div class="popupinput"> <input id="bpmAmount" value="300" type="number"><p> BPM</p> </div>
                <div style="margin-top: 25px">
                    <button onclick="addAction('speed', '#bpmAmount', 'add')" style="background: var(--emojigreen)">Add</button>
                    <button onclick="addAction('speed', '#bpmAmount', 'set')" style="font-weight: bold; background: var(--emojiblue)" actionConfirm="true">Set to</button>
                    <button onclick="addAction('speed', '#bpmAmount', 'multiply')" style="background: var(--emojigreen)">Multiply</button>
                </div>
            </div>
        </div>

        <div class="popup" id="action_volume" style="display: none">
            <div class="popupbox">
                <h1>Set volume</h1>
                <p class="popupdesc">Sets the volume of all subsequent sounds.<br>Default is 100%, max is 600%.</p>
                <p class="skippableAction"></p>
                <div class="popupinput"> <input id="volumeAmount" value="100" type="number"><p>%</p> </div>
                <div style="margin-top: 25px">
                    <button onclick="addAction('volume', '#volumeAmount', 'add')" style="background: var(--emojigreen)">Add</button>
                    <button onclick="addAction('volume', '#volumeAmount', 'set')" style="font-weight: bold; background: var(--emojiblue)" actionConfirm="true">Set to</button>
                    <button onclick="addAction('volume', '#volumeAmount', 'multiply')" style="background: var(--emojigreen)">Multiply</button>
                </div>
            </div>
        </div>

        <div class="popup" id="action_stop" style="display: none">
            <div class="popupbox">
                <h1>Pause</h1>
                <p class="popupdesc">Pauses for a specified duration.</p>
                <p class="skippableAction"></p>
                <div class="popupinput"> <input id="pauseAmount" value="4" type="number"><p> beats</p> </div>
                <div style="margin-top: 25px">
                    <button onclick="addAction('stop', '#pauseAmount')" style="font-weight: bold; background: var(--emojiblue)" actionConfirm="true">OK</button>
                </div>
            </div>
        </div>
        
        <div class="popup" id="action_loopmany" style="display: none">
            <div class="popupbox">
                <h1>Loop</h1>
                <p class="popupdesc">Loop for a specified number of times.<br>Returns to the start if no start point (‚óá) is set</p>
                <p class="skippableAction"></p>
                <div class="popupinput"> <input id="loopAmount" value="4" type="number"><p> loops</p> </div>
                <div style="margin-top: 25px">
                    <button onclick="addAction('loopmany', '#loopAmount')" style="font-weight: bold; background: var(--emojiblue)" actionConfirm="true">OK</button>
                </div>
            </div>
        </div>

        <div class="popup" id="action_transpose" style="display: none">
            <div class="popupbox">
                <h1>Transpose</h1>
                <p class="popupdesc">Increases or decreases the pitch of all subsequent sounds.</p>
                <p class="skippableAction"></p>
                <div class="popupinput"> <input id="transposeAmount" value="1" type="number"><p> semitones</p> </div>
                <div style="margin-top: 25px">
                    <button onclick="addAction('transpose', '#transposeAmount', 'set')" style="font-weight: bold; background: var(--emojiblue)" actionConfirm="true">Set to</button>
                    <button onclick="addAction('transpose', '#transposeAmount', 'add')" style="background: var(--emojigreen)">Add</button>
                </div>
            </div>
        </div>

        <div class="popup" id="action_pulse" style="display: none">
            <div class="popupbox">
                <h1>Pulse</h1>
                <p class="popupdesc">Pulses the screen a certain amount of times.<br>Only one pulse action can be active at a time.<br>Ignores tempo changes.</p>
                <p class="skippableAction"></p>
                <div class="popupinput"> <p style="width: 100px; text-align: right; margin-right: 15px">Pulses:</p> <input id="pulseAmount" value="1" type="number"> <p>(total amount)</p> </div>
                <div class="popupinput"> <p style="width: 100px; text-align: right; margin-right: 15px">Frequency:</p> <input id="pulseInterval" value="2" type="number"> <p>(every X beats)</p> </div>
                <div style="margin-top: 25px">
                    <button onclick="addAdvancedAction('pulse', [$('#pulseAmount').val(), $('#pulseInterval').val()])" style="background: var(--emojigreen)" actionConfirm="true">Add</button>
                </div>
            </div>
        </div>

        <div class="popup" id="action_bg" style="display: none">
            <div class="popupbox">
                <h1>Background Color</h1>
                <p class="popupdesc">Sets the page's background color.</p>
                <div class="popupinput">
                    <p style="margin-right: 6px">#</p>
                    <input style="width: 90px; text-transform: uppercase;" class="colorTextbox" maxlength="6" colorgroup="bgColor" value="36393c">
                    <div class="colorPreview" colorgroup="bgColor" style="background-color: #36393c"></div>
                    <input type="color" id="bgColor" class="colorSelector" colorgroup="bgColor" value="#36393c">
                </div>
                <div class="popupinput"> <p style="width: 100px; text-align: right; margin-right: 15px">Fade time:</p> <input id="bgFadetime" value="0.5" type="number"> <p>secs</p> </div>
                <div style="margin-top: 25px">
                    <button onclick="$('#bgColor').val(defaultBG).trigger('input')" style="background: var(--emojired)">Reset</button>
                    <button onclick="addAdvancedAction('bg', [$('#bgColor').val(), $('#bgFadetime').val()])" style="background: var(--emojigreen)" actionConfirm="true">Add</button>
                </div>
            </div>
        </div>

        <div class="popup" id="clearAll" style="display: none">
            <div class="popupbox">
                <h1>Clear all sounds?</h1>
                <p class="popupdesc">Surprisingly, this can't be undone.<span class="nomobile"><br>(hold shift to skip this popup)</span></p>
                <div style="margin-top: 25px">
                    <button onclick="$('.popup').hide()" style="width: 120px; font-weight: bold; background: #777777; margin-right: 12px">Back</button>
                    <button id="clearsounds" style="width: 120px; font-weight: bold; background: var(--emojired)">Clear!</button>
                </div>
            </div>
        </div>

        <div class="popup" id="settingsMenu" style="display: none">
            <div class="popupbox">
                <h1>Settings</h1>
                <p id="settingHelp" style="height: 36px; opacity: 50%" mobile="(tap on a setting for information)">(hover over a setting for information)</p>
                <p id="settingInfo" style="height: 36px; display: none; padding: 0px 30px"></p>
                <div class="settingList">
                    <div class="extraSetting nomobile" title="Enables placing actions using single-key shortcuts"><input class="settingBox" inverted="true" type="checkbox" setting="noActionShortcuts"><p>Action shortcuts</p></div>
                    <div class="extraSetting" title="Disables most animations on the page (bouncing, pulsing, flashing, etc). Enable if playback is lagging"><input class="settingBox" type="checkbox" setting="noAnimations"><p>Disable Animations</p></div>
                    <div class="extraSetting" title="Automatically scrolls the screen during playback"><input class="settingBox" type="checkbox" setting="autoScroll"><p>Auto-scroll</p></div>
                    <div class="extraSetting" title="Pins the section buttons to the bottom of the screen"><input class="settingBox" type="checkbox" setting="pinSectionButtons"><p>Pin section controls</p></div>
                    <div class="extraSetting" title="Attemps to display a warning message when exiting the page without saving"><input class="settingBox" type="checkbox" setting="exitConfirmation"><p>Exit confirmation</p></div>
                    <div class="extraSetting requiresNewSaving" style="display: none" title="Reverts to the older saving system where pressing save simply downloads the file"><input class="settingBox" type="checkbox" setting="oldSaving"><p>Old save system</p></div>
                    <div class="extraSetting" title="Uses the .moai file extension when saving, instead of .üóø"><input class="settingBox" type="checkbox" setting="altExtension"><p>Alt file extension</p></div>
                </div>
                <div style="margin-top: 25px">
                    <button style="background: var(--emojiblue)" onclick="$('.popup').hide()">Done</button>
                </div>
            </div>
        </div>

        <div class="popup" id="shortcutMenu" style="display: none">
            <div class="popupbox" style="width: 800px; overflow: auto;">
                <h1 style="margin-bottom: 25px">Keyboard Shortcuts</h1>
                <div class="shortcutList fancyScroll">
                    <div class="shortcutSection">
                        <p class="groupName"><b>Sound list</b></p>
                        <p><b>Left click:</b> Place sound</p>
                        <p><b>Shift + left click:</b> Place sound at start</p>
                        <p><b>Right click:</b> Preview sound</p>
                    </div>

                    <div class="shortcutSection">
                        <p class="groupName"><b>Action list</b></p>
                        <p><b>Left click:</b> Place action</p>
                        <p><b>Right click:</b> Edit action</p>
                        <p><b>Shift + left click:</b> Place action at start</p>
                        <p><b>Right click:</b> Place action, skip popups</p>
                    </div>

                    <div class="shortcutSection">
                        <p class="groupName"><b>Sequence</b></p>
                        <p><b>Left click:</b> Remove icon</p>
                        <p><b>Right click:</b> Preview sound</p>
                        <p><b>Drag:</b> Move icon</p>

                        <p><b>Shift + left click:</b> Duplicate (directly after)</p>
                        <p><b>Shift (or alt) + right click:</b> Duplicate (end of sequence)</p>
                        <p><b>Shift + drag:</b> Duplicate to position</p>

                        <p><b>Scroll:</b> Adjust pitch or action</p>
                        <p><b>Ctrl + scroll:</b> Adjust volume</p>
                        <p><b>Shift + scroll:</b> Larger adjust</p>
                        <p><b>Alt + scroll:</b> Smaller adjust</p>
                        <p><b>Up/down:</b> Same as scrolling</p>
                    </div>

                    <div>
                        <div class="shortcutSection">
                            <p class="groupName"><b>Divider sections</b></p>
                            <p><b>Ctrl + click:</b> Select/deselect section</p>
                            <p><b>Ctrl + up/down:</b> Next/previous section</p>
                            <p><b>Ctrl + right click:</b> Show/hide section</p>
                            <p><b>Ctrl + D:</b> Deselect section</p>
                        </div>
    
                        <div class="shortcutSection" style="margin-top: 40px">
                            <p class="groupName"><b>Global</b></p>
                            <p><b>Space/enter:</b> Play/stop</p>
                            <p><b>Esc:</b> Close popup</p>
                            <p><b>Ctrl + S:</b> Save</p>
                            <p><b>Ctrl + Shift + S:</b> Save as</p>
                            <p><b>Ctrl + Alt + S:</b> View sequence data</p>
                            <p><b>Ctrl + O:</b> Load</p>
                            <p><b>Ctrl + P:</b> Toggle pro mode</p>
                            <p><b>Shift + /:</b> Settings</p>
                            <p><b>Ctrl + /:</b> Shortcuts</p>
                        </div>
                    </div>

                </div>
                <div style="margin-top: 25px">
                    <button style="background: var(--emojiblue)" onclick="$('.popup').hide()">Done</button>
                </div>
            </div>
        </div>

        </div>

    </body>
    
    <script type="text/javascript" src="üóø.js?v=8a" charset="UTF-8"><\\/script>
    <script type="text/javascript" src="‚ñ∂.js?v=8a" charset="UTF-8"><\\/script>
    <script type="text/javascript" src="üíæ.js?v=8a" charset="UTF-8"><\\/script>
</html>`,
  soundboard:`<!DOCTYPE html>
<html lang="en">

<head>
    <base href="https://cdn.jsdelivr.net/gh/genizy/soundboard@main/">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5521219086088837" crossorigin="anonymous"><\\/script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-"><\\/script>
    
    <meta charset="UTF-8">
    <title>Soundboard</title>
    <script src="sounds.js" type="module"><\\/script>
    <script src="main.js" type="module"><\\/script>
    <link href="style.css" rel="stylesheet">
</head>

<body>
    <div id="controls">
        <button id="toggleFavorites" class="control-button favorites-toggle">‚≠ê Favorites: OFF</button>
        <button id="toggleButton" class="control-button overlap-toggle">üîá Overlap: OFF</button>
        <button id="stopButton" class="control-button stop-button">‚èπÔ∏è Stop All Sounds</button>
        <input id="searchInput" type="text" placeholder="Search sounds...">
    </div>
    <div id="soundboard"></div>
</body>

</html>`,
  polytrack:`<!doctype html>
<html>

<head>
    <base href="https://cdn.jsdelivr.net/gh/genizy/polytrack@latest/">
    <script>
        window.jkdfgnjkndfg = document.querySelector('base').href;
        fetch("simulation_worker.bundle.js").then(res => res.text()).then(text => {
            const blob = new Blob([text.replaceAll("replacethisplease", window.jkdfgnjkndfg)], {
                type: 'application/javascript'
            });
            window.simulationworker = URL.createObjectURL(blob);
        });
        const ogworker = window.Worker;
        window.Worker = function (scriptUrl, options) {
            if (typeof scriptUrl === 'string' && scriptUrl.toLowerCase() === "simulation_worker.bundle.js") {
                const wrapper = {};
                    const actualWorker = new ogworker(window.simulationworker, options);
                    Object.assign(wrapper, actualWorker);
                    if (typeof wrapper.onmessage === 'function') {
                        actualWorker.onmessage = wrapper.onmessage;
                    }
                    return actualWorker;
                return new Proxy(wrapper, {
                    get(target, prop) {
                        return (...args) => {
                            promise.then(realWorker => realWorker[prop](...args));
                        };
                    },
                    set(target, prop, value) {
                        promise.then(realWorker => {
                            realWorker[prop] = value;
                        });
                        return true;
                    }
                });
            }
            return new ogworker(scriptUrl, options);
        };
        window.Worker.prototype = ogworker.prototype;
        const ogfetch = window.fetch;
        window.fetch = async function (input, init) {
            if (typeof input === "string") {
                input = input.replace("vps.kodub.com", "vpskodub.tmena1565.workers.dev");
            } else if (input instanceof Request) {
                const newUrl = input.url.replace("vps.kodub.com", "vpskodub.tmena1565.workers.dev");
                input = new Request(newUrl, input);
            }
            return ogfetch(input, init);
        };
        const ogxml = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function (method, url, ...rest) {
            if (typeof url === "string") {
                url = url.replace("vps.kodub.com", "vpskodub.tmena1565.workers.dev");
            }
            return ogxml.call(this, method, url, ...rest);
        };
    <\\/script>
    <meta charset="utf-8">
    <link rel="preload" href="forced_square.woff2" as="font" type="font/woff2" crossorigin="anonymous" />
    <link rel="preload" href="images/logo.svg" as="image" type="image/svg+xml" />
    <link rel="preload" href="images/discord.svg" as="image" type="image/svg+xml" />
    <link rel="manifest" href="manifest.json" />
    <meta name="viewport"
        content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,viewport-fit=cover,user-scalable=no">
    <script defer="defer" src="error_screen.bundle.js"><\\/script>
    <script defer="defer" src="main.bundle.js"><\\/script>
</head>

<body><canvas id="screen"></canvas>
    <div id="ui"></div>
    <div id="transition-layer"></div>
</body>

</html>`,
  forkNSausage:`<!doctype html>
<html>

<head>
    <base href="https://cdn.jsdelivr.net/gh/bubbls/youtube-playables@main/fork-n-sausage/">
    <script src="https://cdn.jsdelivr.net/gh/bubbls/youtube-playables@main/ytgame.js" nonce="BULoIZJ58FW0lVukkm50Ng"><\\/script>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ForkNSausage</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css" nonce="BULoIZJ58FW0lVukkm50Ng">
  </head>
  <body class="light">
    <div id="unity-container" class="unity-desktop">
      <canvas id="unity-canvas"></canvas>
    </div>
    <div id="loading-cover" style="display:none;">
      <div id="unity-loading-bar">
        <div id="unity-logo"><img src="logo.png"></div>
        <div id="unity-progress-bar-empty" style="display: none;">
          <div id="unity-progress-bar-full"></div>
        </div>
        <div class="spinner"></div>
      </div>
    </div>
    <div id="unity-fullscreen-button" style="display: none;"></div>
    <script nonce="BULoIZJ58FW0lVukkm50Ng">
      const hideFullScreenButton = true;
      const buildUrl = "Build";
      const loaderUrl = buildUrl + "/fork-n-sausage-v2022.3.18f1-store-v1_0_1-build206.loader.js";
      const config = {
        dataUrl: buildUrl + "/0b7f455b59d283525d729ac5aa2fd2ff.data.br",
        frameworkUrl: buildUrl + "/240d6ad20e88a3724e7b596483ebf4b5.js",
        codeUrl: buildUrl + "/a6b676e3da30e3cb2825978173dab48c.wasm.br",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "Kadka",
        productName: "ForkNSausage",
        productVersion: "1.0.1",
      };

      const container = document.querySelector("#unity-container");
      const canvas = document.querySelector("#unity-canvas");
      const loadingCover = document.querySelector("#loading-cover");
      const progressBarEmpty = document.querySelector("#unity-progress-bar-empty");
      const progressBarFull = document.querySelector("#unity-progress-bar-full");
      const fullscreenButton = document.querySelector("#unity-fullscreen-button");
      const spinner = document.querySelector('.spinner');

      const canFullscreen = (function() {
        for (const key of [
            'exitFullscreen',
            'webkitExitFullscreen',
            'webkitCancelFullScreen',
            'mozCancelFullScreen',
            'msExitFullscreen',
          ]) {
          if (key in document) {
            return true;
          }
        }
        return false;
      }());

      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
        container.className = "unity-mobile";
        config.devicePixelRatio = Math.min(config.devicePixelRatio, 2);
      }
      loadingCover.style.display = "";

      const script = document.createElement("script");
      script.src = loaderUrl;
      script.onload = () => {
        createUnityInstance(canvas, config, (progress) => {
          spinner.style.display = "none";
          progressBarEmpty.style.display = "";
          progressBarFull.style.width = \`\${100 * progress}%\`;
        }).then((unityInstance) => {
          loadingCover.style.display = "none";
          if (canFullscreen) {
            if (!hideFullScreenButton) {
              fullscreenButton.style.display = "";
            }
            fullscreenButton.onclick = () => {
              unityInstance.SetFullscreen(1);
            };
          }
        }).catch((message) => {
          alert(message);
        });
      };
      document.body.appendChild(script);
    <\\/script>
  </body>
</html>`
};

const GAMES=[
  {id:'car-survival',icon:'üöó',name:'Car Survival 3D',tag:'action',cat:'action',url:'https://rawcdn.githack.com/genizy/brainrot/main/car-survival-3d/index.html',type:'direct'},
  {id:'build-plane',icon:'‚úàÔ∏è',name:'Build a Plane',tag:'adventure',cat:'adventure',url:'https://rawcdn.githack.com/genizy/brainrot/main/build-a-plane/index.html',type:'direct'},
  {id:'climbing',icon:'üßó',name:'A Difficult Game About Climbing',tag:'platformer',cat:'adventure',type:'inline',html:GAME_HTML.climbing},
  {id:'thirty-dollar',icon:'üóø',name:"Don't You Lecture Me",tag:'music',cat:'adventure',type:'inline',html:GAME_HTML.thirtyDollar},
  {id:'soundboard',icon:'üîä',name:'Soundboard',tag:'audio',cat:'adventure',type:'inline',html:GAME_HTML.soundboard},
  {id:'polytrack',icon:'üèéÔ∏è',name:'PolyTrack',tag:'racing',cat:'action',type:'inline',html:GAME_HTML.polytrack},
  {id:'fork-n-sausage',icon:'üç¥',name:'ForkNSausage',tag:'puzzle',cat:'adventure',type:'inline',html:GAME_HTML.forkNSausage}
];

let currentGame=null;
function buildGameGrid(){
  const grid=$('#gameGrid'),q=$('#gameSearchInput').value.toLowerCase();
  let filtered=GAMES.filter(g=>g.name.toLowerCase().includes(q)||g.tag.toLowerCase().includes(q));
  grid.innerHTML=filtered.map(g=>`<div class="game-tile${currentGame&&currentGame.id===g.id?' active':''}" data-id="${g.id}" data-cat="${g.cat}"><div class="gt-icon">${g.icon}</div><div class="gt-name">${g.name}</div><div class="gt-tag">${g.tag}</div></div>`).join('');
  $$('.game-tile').forEach(tile=>tile.addEventListener('click',()=>openGameById(tile.dataset.id)));
  if(window._rebindHover)window._rebindHover();
}

function openGameById(id){
  const game=GAMES.find(item=>item.id===id);
  if(!game)return;
  currentGame=game;
  $$('.game-tile').forEach(tile=>tile.classList.toggle('active',tile.dataset.id===id));
  openGame(game);
}

function openGame({url,name,icon,type,html}){
  $('#gmTitle').textContent=name;
  $('#gmLoadIcon').textContent=icon;
  $('#gmLoadSub').textContent=name;
  $('#gmLoading').classList.remove('hide');
  $('#gmIframe').src='';
  $('#gmBg').classList.add('show');
  $('#gmModal').classList.add('show');

  if(type==='inline'&&html){
    const blob=new Blob([html],{type:'text/html'});
    $('#gmIframe').src=URL.createObjectURL(blob);
  } else if(type==='fetch'){
    // Fetch and serve as blob (for CDN-hosted games that need MIME fix)
    fetch(url).then(r=>r.text()).then(html=>{
      const base=url.substring(0,url.lastIndexOf('/')+1);
      const rewritten=html.replace(/<base\s[^>]*>/i,'').replace(/(src|href)=["'](?!https?:\/\/)([^"']+)["']/gi,(m,attr,path)=>`${attr}="${base}${path}"`);
      const blob=new Blob([rewritten],{type:'text/html'});
      $('#gmIframe').src=URL.createObjectURL(blob);
    }).catch(()=>{$('#gmLoadSub').textContent='Failed to load';});
  } else {
    // Direct iframe load ‚Äî works for Unity WebGL games with <base> tags
    $('#gmIframe').src=url;
  }
}

function closeGame(){
  $('#gmBg').classList.remove('show');
  $('#gmModal').classList.remove('show');
  const src=$('#gmIframe').src;
  if(src.startsWith('blob:'))URL.revokeObjectURL(src);
  $('#gmIframe').src='';
}
$('#gmIframe').addEventListener('load',()=>{setTimeout(()=>$('#gmLoading').classList.add('hide'),800);});
$('#gmClose').addEventListener('click',closeGame);
$('#gmBg').addEventListener('click',closeGame);
$('#gmReload').addEventListener('click',()=>{
  $('#gmLoading').classList.remove('hide');
  const src=$('#gmIframe').src;
  if(src.startsWith('blob:'))URL.revokeObjectURL(src);
  $('#gmIframe').src='';
  if(currentGame)openGame(currentGame);
});
$('#gmFullscreen').addEventListener('click',()=>{
  const f=$('#gmIframe');
  if(f.requestFullscreen)f.requestFullscreen().catch(()=>{});
  else if(f.mozRequestFullScreen)f.mozRequestFullScreen();
  else if(f.webkitRequestFullscreen)f.webkitRequestFullscreen();
  else if(f.msRequestFullscreen)f.msRequestFullscreen();
});

/* ‚îÄ‚îÄ‚îÄ FAB ‚îÄ‚îÄ‚îÄ */
$('#fab').addEventListener('click',function(){const m=$('#qmenu');m.classList.toggle('show');this.textContent=m.classList.contains('show')?'‚úï':'‚ö°';});
$$('.qm-item').forEach(item=>item.addEventListener('click',()=>{$('#qmenu').classList.remove('show');$('#fab').textContent='‚ö°';const act=item.dataset.act;if(act==='fullscreen'){if(!document.fullscreenElement)document.documentElement.requestFullscreen().then(()=>toast('Fullscreen on','ok')).catch(()=>toast('Not supported','err'));else{document.exitFullscreen();toast('Fullscreen off','ok');}}else if(act==='panic')window.location.href='https://www.google.com';}));

/* ‚îÄ‚îÄ‚îÄ BAR AUTO-HIDE ‚îÄ‚îÄ‚îÄ */
(function(){
  const wrap=$('#barWrap'),scroll=$('#scrollArea');if(!wrap||!scroll)return;
  let lastY=0,hideTimer=null;
  function showBar(){clearTimeout(hideTimer);wrap.classList.remove('hidden');}
  function hideBar(){if(autohideEnabled)wrap.classList.add('hidden');}
  scroll.addEventListener('scroll',()=>{const y=scroll.scrollTop;if(y>lastY&&y>40){clearTimeout(hideTimer);hideTimer=setTimeout(hideBar,80);}else showBar();lastY=y;},{passive:true});
  document.addEventListener('mousemove',e=>{if(e.clientY>window.innerHeight-8)showBar();},{passive:true});
})();

/* ‚îÄ‚îÄ‚îÄ KEYBOARD ‚îÄ‚îÄ‚îÄ */
document.addEventListener('keydown',e=>{
  if(!document.body.classList.contains('unlocked'))return;
  if(e.target&&/input|textarea|select/i.test(e.target.tagName))return;
  const k=e.key.toLowerCase();
  if(k==='1')showSec('dash');else if(k==='2')showSec('hub');else if(k==='3')showSec('tools');
  else if(k==='4')showSec('game');else if(k==='5')showSec('updates');
  else if(k===',')openModal();
  else if(k==='escape'){closeModal();closeGame();$('#qmenu').classList.remove('show');$('#fab').textContent='‚ö°';}
});

})();
</script>
</body>
</html>
